{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///delegated ./node_modules/three/build/three.module.js from dll-reference vendor_b74a3bec153adcb8f4e7","webpack:///delegated ./node_modules/jquery/dist/jquery.js from dll-reference vendor_b74a3bec153adcb8f4e7","webpack:///external \"vendor_b74a3bec153adcb8f4e7\"","webpack:///./node_modules/three-gltf-loader/index.js","webpack:///./node_modules/stats-js/build/stats.min.js","webpack:///delegated ./node_modules/three-orbitcontrols/OrbitControls.js from dll-reference vendor_b74a3bec153adcb8f4e7","webpack:///./node_modules/assert/assert.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///./test/initScene.js","webpack:///./test/Maze.js","webpack:///./test/keyboard.js","webpack:///./test/text2D.js","webpack:///./test/AnimateKey.js","webpack:///./test/Car.js","webpack:///./test/HUD.js","webpack:///./test/GLSL/myPlaneTimeVertex.glsl","webpack:///./test/GLSL/myPlaneTimeFragment.glsl","webpack:///./test/GLSL/myMinimapVertex.glsl","webpack:///./test/main.js","webpack:///./test/NPC.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","vendor_b74a3bec153adcb8f4e7","THREE","_GLTFLoader","GLTFLoader","manager","Loader","this","dracoLoader","ddsLoader","GLTFRegistry","objects","add","remove","removeAll","assign","constructor","load","url","onLoad","onProgress","onError","resourcePath","scope","path","LoaderUtils","extractUrlBase","itemStart","_onError","e","console","error","itemError","itemEnd","loader","FileLoader","setPath","setResponseType","crossOrigin","setWithCredentials","data","parse","gltf","setDRACOLoader","setDDSLoader","content","extensions","decodeText","Uint8Array","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","json","JSON","undefined","asset","version","Error","extensionsUsed","length","extensionName","extensionsRequired","KHR_LIGHTS_PUNCTUAL","GLTFLightsExtension","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","indexOf","warn","GLTFParser","extension","lightDefs","lights","loadLight","lightIndex","lightNode","lightDef","color","Color","fromArray","range","type","DirectionalLight","target","position","set","PointLight","distance","SpotLight","spot","innerConeAngle","outerConeAngle","Math","PI","angle","penumbra","decay","intensity","Promise","resolve","getMaterialType","MeshBasicMaterial","extendParams","materialParams","materialDef","parser","pending","opacity","metallicRoughness","pbrMetallicRoughness","Array","isArray","baseColorFactor","array","baseColorTexture","push","assignTexture","all","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","body","headerView","DataView","header","magic","slice","getUint32","chunkView","chunkIndex","byteLength","chunkLength","chunkType","contentArray","byteOffset","specularGlossinessParams","ShaderMaterial","pbrSpecularGlossiness","shader","ShaderLib","uniforms","UniformsUtils","clone","specularMapParsFragmentChunk","join","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","fragmentShader","replace","roughness","metalness","roughnessMap","metalnessMap","specular","setHex","glossiness","specularMap","glossinessMap","vertexShader","defines","STANDARD","diffuseFactor","diffuseTexture","emissive","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","params","material","fog","transparent","isGLTFSpecularGlossinessMaterial","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","derivatives","cloneMaterial","source","il","isColor","refreshUniforms","renderer","scene","camera","geometry","uvScaleMap","diffuse","copy","multiplyScalar","isWebGLRenderTarget","texture","matrixAutoUpdate","updateMatrix","uvTransform","matrix","flipEnvMap","isCubeTexture","reflectivity","maxMipLevel","properties","__maxMipLevel","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","GLTFCubicSplineInterpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","Interpolant","decodePrimitive","primitive","bufferViewIndex","bufferView","gltfAttributeMap","attributes","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","toLowerCase","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","getDependency","then","decodeDracoFile","attribute","extendTexture","transform","offset","rotation","scale","repeat","texCoord","needsUpdate","copySampleValue_","index","result","values","valueSize","beforeStart_","afterEnd_","interpolate_","i1","t0","t1","stride","stride2","stride3","td","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","defaultMaterial","WEBGL_CONSTANTS","5120","Int8Array","5121","5122","Int16Array","5123","Uint16Array","5125","Uint32Array","5126","Float32Array","WEBGL_FILTERS","9728","NearestFilter","9729","LinearFilter","9984","NearestMipmapNearestFilter","9985","LinearMipmapNearestFilter","9986","NearestMipmapLinearFilter","9987","LinearMipmapLinearFilter","WEBGL_WRAPPINGS","33071","ClampToEdgeWrapping","33648","MirroredRepeatWrapping","10497","RepeatWrapping","WEBGL_TYPE_SIZES","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","InterpolateLinear","STEP","InterpolateDiscrete","ALPHA_MODES","MIME_TYPE_FORMATS","image/png","RGBAFormat","image/jpeg","RGBFormat","resolveURL","test","addUnknownExtensionsToUserData","knownExtensions","objectDef","userData","gltfExtensions","assignExtrasToUserData","gltfDef","extras","updateMorphTargets","mesh","meshDef","morphTargetInfluences","targetNames","morphTargetDictionary","createAttributesKey","attributesKey","keys","sort","cloneBufferAttribute","isInterleavedBufferAttribute","count","itemSize","j","getX","getY","getZ","getW","BufferAttribute","options","cache","primitiveCache","textureLoader","TextureLoader","setCrossOrigin","fileLoader","addPrimitiveAttributes","primitiveDef","assignAttributeAccessor","accessorIndex","accessor","setAttribute","gltfAttributeName","indices","setIndex","targets","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","normal","morphPositions","morphNormals","positionAttribute","jl","setXYZ","normalAttribute","morphAttributes","addMorphTargets","markDefs","getDependencies","dependencies","scenes","animations","cameras","catch","nodeDefs","nodes","skinDefs","skins","meshDefs","meshes","meshReferences","meshUses","skinIndex","skinLength","joints","isBone","nodeIndex","nodeLength","nodeDef","skin","isSkinnedMesh","cacheKey","dependency","loadScene","loadNode","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadTexture","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","buffers","uri","reject","bufferViewDef","bufferViews","buffer","sparse","pendingBufferViews","bufferAttribute","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","byteStride","ibSlice","floor","ibCacheKey","ib","InterleavedBuffer","InterleavedBufferAttribute","itemSizeIndices","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","textureIndex","URL","window","webkitURL","textureDef","textures","textureExtensions","sourceURI","images","isObjectURL","blob","Blob","mimeType","createObjectURL","getHandler","revokeObjectURL","flipY","format","sampler","samplers","magFilter","minFilter","wrapS","wrapT","mapName","mapDef","isCompressedTexture","assignFinalMaterial","useVertexTangents","tangent","useVertexColors","useFlatShading","useSkinning","useMorphTargets","useMorphNormals","isPoints","uuid","pointsMaterial","PointsMaterial","Material","sizeAttenuation","isLine","lineMaterial","LineBasicMaterial","cachedMaterial","skinning","vertexTangents","vertexColors","VertexColors","flatShading","morphTargets","uv2","uv","log","onBeforeRender","materialIndex","materialType","materials","materialExtensions","sgExtension","kmuExtension","MeshStandardMaterial","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","side","DoubleSide","alphaMode","alphaTest","alphaCutoff","normalTexture","Vector2","occlusionTexture","strength","emissiveFactor","emissiveTexture","encoding","sRGBEncoding","loadGeometries","primitives","createDracoPrimitive","dracoExtension","geometryPromise","cached","promise","BufferGeometry","meshIndex","depthTest","FrontSide","originalMaterials","geometries","SkinnedMesh","Mesh","skinWeight","normalizeSkinWeights","drawMode","TriangleStripDrawMode","TriangleFanDrawMode","LineSegments","Line","LineLoop","Points","group","Group","cameraIndex","cameraDef","PerspectiveCamera","radToDeg","yfov","aspectRatio","znear","zfar","OrthographicCamera","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","node","id","input","parameters","output","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","TypedKeyframeTrack","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","targetName","interpolation","traverse","isMesh","outputArray","scaled","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","AnimationClip","instanceNum","children","light","Bone","Object3D","PropertyBinding","sanitizeNodeName","Matrix4","applyMatrix","quaternion","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","Skeleton","matrixWorld","child","sceneIndex","sceneDef","Scene","nodeIds","document","createElement","appendChild","dom","style","display","cssText","addEventListener","preventDefault","performance","Date","now","a","f","Panel","self","memory","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","round","devicePixelRatio","u","h","y","width","height","v","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","min","max","drawImage","global","objectAssign","compare","b","x","len","isBuffer","Buffer","_isBuffer","util","hasOwn","pSlice","functionsHaveNames","pToString","obj","toString","isView","arrbuf","ArrayBuffer","assert","ok","regex","getName","func","isFunction","match","truncate","inspect","something","rawname","fail","actual","expected","message","operator","stackStartFunction","AssertionError","_deepEqual","strict","memos","isDate","getTime","isRegExp","multiline","lastIndex","ignoreCase","Float64Array","actualIndex","actualVisitedObjects","isPrimitive","getPrototypeOf","aIsArgs","isArguments","bIsArgs","ka","objectKeys","kb","objEquiv","expectedException","isPrototypeOf","_throws","shouldThrow","block","TypeError","_tryBlock","userProvidedMessage","isUnexpectedException","isError","generatedMessage","getMessage","captureStackTrace","err","stack","out","fn_name","idx","next_line","substring","inherits","equal","notEqual","deepEqual","deepStrictEqual","notDeepEqual","notDeepStrictEqual","strictEqual","notStrictEqual","throws","doesNotThrow","ifError","g","Function","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","test1","String","getOwnPropertyNames","test2","fromCharCode","test3","split","forEach","letter","shouldUseNative","from","symbols","to","arguments","process","getOwnPropertyDescriptors","descriptors","getOwnPropertyDescriptor","formatRegExp","isString","args","str","Number","stringify","_","isNull","isObject","deprecate","fn","msg","noDeprecation","apply","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","styles","recurseTimes","ret","simple","isNumber","formatPrimitive","visibleKeys","hash","arrayToHash","formatError","RegExp","base","braces","toUTCString","formatProperty","formatArray","pop","reduce","prev","cur","numLinesEst","reduceToSingleString","desc","line","substr","ar","arg","re","objectToString","pad","debuglog","env","NODE_DEBUG","toUpperCase","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","string","date","regexp","isNullOrUndefined","isSymbol","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","prop","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","cb","newReason","promisify","original","writable","configurable","promiseResolve","promiseReject","setPrototypeOf","defineProperties","custom","callbackify","callbackified","maybeCb","nextTick","rej","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","title","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","fill","readUInt8","ctor","superCtor","super_","TempCtor","Maze","thickness","wallHeight","_classCallCheck","row","col","wall","graph","initMaze","initData","texturePath","textureOutX","textureOutY","textureOutZ","textureInZ","textureInY","matArrayOut","matArrayIn","topWall","bottomWall","leftWall","rightWall","temp","wallclone","z","left","right","mazeData","isRow","frontPoint","nextPoint","top","bottom","castShadow","receiveShadow","sets","walls","choose","random","Union_set","find","splice","pushInGraph","KeyboardState","onKeyDown","onKeyUp","k","8","9","13","16","17","18","27","32","33","34","35","36","37","38","39","40","45","46","186","187","188","189","190","191","219","220","221","222","status","keyName","keyCode","event","pressed","down","up","updatedPreviously","debug","list","THREE_Text","loaded","SpriteText2D","MeshText2D","textAlign","__extends","raycast","sprite","updateText","canvas","drawText","_text","_font","_fillStyle","cleanUp","Texture","applyAntiAlias","SpriteMaterial","Sprite","textWidth","align","textHeight","Text2D","CanvasText","center","antialias","text","dispose","LinearMipMapLinearFilter","topLeft","topRight","bottomLeft","bottomRight","getFontHeight","getElementsByTagName","createTextNode","offsetHeight","removeChild","clearRect","ceil","measureText","ceilPowerOfTwo","PlaneGeometry","vertices","verticesNeedUpdate","AnimateKey","AnimateKey_classCallCheck","start","move","sub","Car","maze","model","textName","startCell","Car_classCallCheck","nowCell","buildBody","rot","speed","animateKey","cameraLookPoint","state","stateName","keepTime","Infinity","lookAt","getWorldPosition","getNodeToPos","shadow","actions","activeAction","play","dt","keyboard","pickables","mixer","normalUpdate","fadeToAction","nextPos","action","applyAxisAngle","checkNextPos","rayCaster","normalize","far","intersects","intersectObjects","cameraIntPos","sqrt","duration","previousAction","fadeOut","reset","setEffectiveTimeScale","setEffectiveWeight","fadeIn","mazeWidth","mazeDepth","nextCell","abs","check","HUD","mazeTotalWidth","gameTime","HUD_classCallCheck","centerMaxSize","centerSet","centerSet3","nowCenterSet","initHUD","initScrene","alertTime","windowWidth","innerWidth","windowHeight","innerHeight","sceneHUD","initSceneHUD","cameraHUD1","cameraHUD2","cameraHUD3","sceneMinimapHUD","cameraMinimapHUD","lineGeo","plane","planeTimeMat","pos","timePlane","sceneScrene","cameraScrene","rtTexture","rttmaterial","minRange","maxRange","quad","playPosX","playPosZ","openBigMap","playMiniMapX","playMiniMapY","playXPercent","playYPercent","prePos","nowPos","enemyModel","clock","hud","exit","car","npcEx","FinalLine","NPC","traversMode","_this","NPC_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","NPCStateTable","freeze","initState","findNextPoint","GoToPoint","WaintingTarget","NPCState","isTraverse","targetNode","catchMode","stackPath","frontNode","traversModeConst","traversModeTable","Astar_Manhattan","Astar_Euclidean","Astar_Breaking","Astar_Max","AstarPath","waitingTime","vel","acos","Hfunction","NodeName","openList","closeList","NodeValue","Parent","getElapsedTime","localStorage","parseFloat","parseInt","location","reload","dis","ref","Hfunction_ref","carPos","rowStart","res","initAstarPath","findNextPoint_Left","findNextPoint_Right","findNextPoint_Astar","findPlayer","changeText","robotModel","canStart","stats","Stats","gameState","systemTime","raycaster","mouse","npcs","mazeSize","cameraFar","removeWall","isremoveWall","$","click","getElementById","updateProjectionMatrix","initGame","stop","alert","initStart","aspect","setSize","clientX","clientY","setFromCamera","loaderInit","xhr","total","onunloadEvent","gameAnimate","mainAnimate","getDelta","initAnimate","atan2","innerHTML","requestAnimationFrame","WW","HH","setScissorTest","setViewport","setScissor","clear","render","playPos","shift","setRenderTarget","updateMiniMapPos","updateCenter","updateTime","robot","states","emotes","clip","clipAction","clampWhenFinished","loop","initRobot","initEnemy","background","zIndex","setClearColor","autoClear","init"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","module.exports = (__webpack_require__(2))(0);","module.exports = (__webpack_require__(2))(3);","module.exports = vendor_b74a3bec153adcb8f4e7;","/**\n * @author Rich Tibbett / https://github.com/richtr\n * @author mrdoob / http://mrdoob.com/\n * @author Tony Parisi / http://www.tonyparisi.com/\n * @author Takahiro / https://github.com/takahirox\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nvar THREE = require( 'three' );\n\n\nvar _GLTFLoader = ( function () {\n\n\tfunction GLTFLoader( manager ) {\n\n\t\tTHREE.Loader.call( this, manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ddsLoader = null;\n\n\t}\n\n\tGLTFLoader.prototype = Object.assign( Object.create( THREE.Loader.prototype ), {\n\n\t\tconstructor: GLTFLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar resourcePath;\n\n\t\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\t\tresourcePath = this.resourcePath;\n\n\t\t\t} else if ( this.path !== '' ) {\n\n\t\t\t\tresourcePath = this.path;\n\n\t\t\t} else {\n\n\t\t\t\tresourcePath = THREE.LoaderUtils.extractUrlBase( url );\n\n\t\t\t}\n\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tvar _onError = function ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t};\n\n\t\t\tvar loader = new THREE.FileLoader( scope.manager );\n\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\t\tif ( scope.crossOrigin === 'use-credentials' ) {\n\n\t\t\t\tloader.setWithCredentials( true );\n\n\t\t\t}\n\n\t\t\tloader.load( url, function ( data ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t\t}, _onError );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t_onError( e );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, _onError );\n\n\t\t},\n\n\t\tsetDRACOLoader: function ( dracoLoader ) {\n\n\t\t\tthis.dracoLoader = dracoLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetDDSLoader: function ( ddsLoader ) {\n\n\t\t\tthis.ddsLoader = ddsLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( data, path, onLoad, onError ) {\n\n\t\t\tvar content;\n\t\t\tvar extensions = {};\n\n\t\t\tif ( typeof data === 'string' ) {\n\n\t\t\t\tcontent = data;\n\n\t\t\t} else {\n\n\t\t\t\tvar magic = THREE.LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcontent = THREE.LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar json = JSON.parse( content );\n\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.' ) );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( json.extensionsUsed ) {\n\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_LIGHTS_PUNCTUAL:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFLightsExtension( json );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 ) {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar parser = new GLTFParser( json, extensions, {\n\n\t\t\t\tpath: path || this.resourcePath || '',\n\t\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\t\tmanager: this.manager\n\n\t\t\t} );\n\n\t\t\tparser.parse( onLoad, onError );\n\n\t\t}\n\n\t} );\n\n\t/* GLTFREGISTRY */\n\n\tfunction GLTFRegistry() {\n\n\t\tvar objects = {};\n\n\t\treturn\t{\n\n\t\t\tget: function ( key ) {\n\n\t\t\t\treturn objects[ key ];\n\n\t\t\t},\n\n\t\t\tadd: function ( key, object ) {\n\n\t\t\t\tobjects[ key ] = object;\n\n\t\t\t},\n\n\t\t\tremove: function ( key ) {\n\n\t\t\t\tdelete objects[ key ];\n\n\t\t\t},\n\n\t\t\tremoveAll: function () {\n\n\t\t\t\tobjects = {};\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/*********************************/\n\t/********** EXTENSIONS ***********/\n\t/*********************************/\n\n\tvar EXTENSIONS = {\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n\t};\n\n\t/**\n\t * DDS Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n\t *\n\t */\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\n\n\t\tif ( ! ddsLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n\t\tthis.ddsLoader = ddsLoader;\n\n\t}\n\n\t/**\n\t * Punctual Lights Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n\t */\n\tfunction GLTFLightsExtension( json ) {\n\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\tvar extension = ( json.extensions && json.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ] ) || {};\n\t\tthis.lightDefs = extension.lights || [];\n\n\t}\n\n\tGLTFLightsExtension.prototype.loadLight = function ( lightIndex ) {\n\n\t\tvar lightDef = this.lightDefs[ lightIndex ];\n\t\tvar lightNode;\n\n\t\tvar color = new THREE.Color( 0xffffff );\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new THREE.DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new THREE.PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new THREE.SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = lightDef.name || ( 'light_' + lightIndex );\n\n\t\treturn Promise.resolve( lightNode );\n\n\t};\n\n\t/**\n\t * Unlit Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n\t */\n\tfunction GLTFMaterialsUnlitExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\n\n\t\treturn THREE.MeshBasicMaterial;\n\n\t};\n\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\n\n\t\tvar pending = [];\n\n\t\tmaterialParams.color = new THREE.Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/* BINARY EXTENSION */\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\n\tfunction GLTFBinaryExtension( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: THREE.LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.' );\n\n\t\t}\n\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tvar chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\n\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = THREE.LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * DRACO Mesh Compression Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n\t */\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\n\t}\n\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\n\n\t\tvar json = this.json;\n\t\tvar dracoLoader = this.dracoLoader;\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tvar threeAttributeMap = {};\n\t\tvar attributeNormalizedMap = {};\n\t\tvar attributeTypeMap = {};\n\n\t\tfor ( var attributeName in gltfAttributeMap ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( attributeName in primitive.attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Texture Transform Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n\t */\n\tfunction GLTFTextureTransformExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t};\n\n\t/**\n\t * Specular-Glossiness Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n\t */\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\n\n\t\treturn {\n\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n\n\t\t\tspecularGlossinessParams: [\n\t\t\t\t'color',\n\t\t\t\t'map',\n\t\t\t\t'lightMap',\n\t\t\t\t'lightMapIntensity',\n\t\t\t\t'aoMap',\n\t\t\t\t'aoMapIntensity',\n\t\t\t\t'emissive',\n\t\t\t\t'emissiveIntensity',\n\t\t\t\t'emissiveMap',\n\t\t\t\t'bumpMap',\n\t\t\t\t'bumpScale',\n\t\t\t\t'normalMap',\n\t\t\t\t'displacementMap',\n\t\t\t\t'displacementScale',\n\t\t\t\t'displacementBias',\n\t\t\t\t'specularMap',\n\t\t\t\t'specular',\n\t\t\t\t'glossinessMap',\n\t\t\t\t'glossiness',\n\t\t\t\t'alphaMap',\n\t\t\t\t'envMap',\n\t\t\t\t'envMapIntensity',\n\t\t\t\t'refractionRatio',\n\t\t\t],\n\n\t\t\tgetMaterialType: function () {\n\n\t\t\t\treturn THREE.ShaderMaterial;\n\n\t\t\t},\n\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\n\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\t\t\tvar shader = THREE.ShaderLib[ 'standard' ];\n\n\t\t\t\tvar uniforms = THREE.UniformsUtils.clone( shader.uniforms );\n\n\t\t\t\tvar specularMapParsFragmentChunk = [\n\t\t\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar glossinessMapParsFragmentChunk = [\n\t\t\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar specularMapFragmentChunk = [\n\t\t\t\t\t'vec3 specularFactor = specular;',\n\t\t\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar glossinessMapFragmentChunk = [\n\t\t\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar lightPhysicalFragmentChunk = [\n\t\t\t\t\t'PhysicalMaterial material;',\n\t\t\t\t\t'material.diffuseColor = diffuseColor.rgb;',\n\t\t\t\t\t'material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );',\n\t\t\t\t\t'material.specularColor = specularFactor.rgb;',\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar fragmentShader = shader.fragmentShader\n\t\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t\t\tdelete uniforms.roughness;\n\t\t\t\tdelete uniforms.metalness;\n\t\t\t\tdelete uniforms.roughnessMap;\n\t\t\t\tdelete uniforms.metalnessMap;\n\n\t\t\t\tuniforms.specular = { value: new THREE.Color().setHex( 0x111111 ) };\n\t\t\t\tuniforms.glossiness = { value: 0.5 };\n\t\t\t\tuniforms.specularMap = { value: null };\n\t\t\t\tuniforms.glossinessMap = { value: null };\n\n\t\t\t\tmaterialParams.vertexShader = shader.vertexShader;\n\t\t\t\tmaterialParams.fragmentShader = fragmentShader;\n\t\t\t\tmaterialParams.uniforms = uniforms;\n\t\t\t\tmaterialParams.defines = { 'STANDARD': '' };\n\n\t\t\t\tmaterialParams.color = new THREE.Color( 1.0, 1.0, 1.0 );\n\t\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t\t\t}\n\n\t\t\t\tmaterialParams.emissive = new THREE.Color( 0.0, 0.0, 0.0 );\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\t\t\tmaterialParams.specular = new THREE.Color( 1.0, 1.0, 1.0 );\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t},\n\n\t\t\tcreateMaterial: function ( params ) {\n\n\t\t\t\t// setup material properties based on MeshStandardMaterial for Specular-Glossiness\n\n\t\t\t\tvar material = new THREE.ShaderMaterial( {\n\t\t\t\t\tdefines: params.defines,\n\t\t\t\t\tvertexShader: params.vertexShader,\n\t\t\t\t\tfragmentShader: params.fragmentShader,\n\t\t\t\t\tuniforms: params.uniforms,\n\t\t\t\t\tfog: true,\n\t\t\t\t\tlights: true,\n\t\t\t\t\topacity: params.opacity,\n\t\t\t\t\ttransparent: params.transparent\n\t\t\t\t} );\n\n\t\t\t\tmaterial.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t\t\tmaterial.color = params.color;\n\n\t\t\t\tmaterial.map = params.map === undefined ? null : params.map;\n\n\t\t\t\tmaterial.lightMap = null;\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\t\t\tmaterial.aoMap = params.aoMap === undefined ? null : params.aoMap;\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\t\t\tmaterial.emissive = params.emissive;\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\n\t\t\t\tmaterial.emissiveMap = params.emissiveMap === undefined ? null : params.emissiveMap;\n\n\t\t\t\tmaterial.bumpMap = params.bumpMap === undefined ? null : params.bumpMap;\n\t\t\t\tmaterial.bumpScale = 1;\n\n\t\t\t\tmaterial.normalMap = params.normalMap === undefined ? null : params.normalMap;\n\n\t\t\t\tif ( params.normalScale ) material.normalScale = params.normalScale;\n\n\t\t\t\tmaterial.displacementMap = null;\n\t\t\t\tmaterial.displacementScale = 1;\n\t\t\t\tmaterial.displacementBias = 0;\n\n\t\t\t\tmaterial.specularMap = params.specularMap === undefined ? null : params.specularMap;\n\t\t\t\tmaterial.specular = params.specular;\n\n\t\t\t\tmaterial.glossinessMap = params.glossinessMap === undefined ? null : params.glossinessMap;\n\t\t\t\tmaterial.glossiness = params.glossiness;\n\n\t\t\t\tmaterial.alphaMap = null;\n\n\t\t\t\tmaterial.envMap = params.envMap === undefined ? null : params.envMap;\n\t\t\t\tmaterial.envMapIntensity = 1.0;\n\n\t\t\t\tmaterial.refractionRatio = 0.98;\n\n\t\t\t\tmaterial.extensions.derivatives = true;\n\n\t\t\t\treturn material;\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Clones a GLTFSpecularGlossinessMaterial instance. The ShaderMaterial.copy() method can\n\t\t\t * copy only properties it knows about or inherits, and misses many properties that would\n\t\t\t * normally be defined by MeshStandardMaterial.\n\t\t\t *\n\t\t\t * This method allows GLTFSpecularGlossinessMaterials to be cloned in the process of\n\t\t\t * loading a glTF model, but cloning later (e.g. by the user) would require these changes\n\t\t\t * AND also updating `.onBeforeRender` on the parent mesh.\n\t\t\t *\n\t\t\t * @param  {THREE.ShaderMaterial} source\n\t\t\t * @return {THREE.ShaderMaterial}\n\t\t\t */\n\t\t\tcloneMaterial: function ( source ) {\n\n\t\t\t\tvar target = source.clone();\n\n\t\t\t\ttarget.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t\t\tvar params = this.specularGlossinessParams;\n\n\t\t\t\tfor ( var i = 0, il = params.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar value = source[ params[ i ] ];\n\t\t\t\t\ttarget[ params[ i ] ] = ( value && value.isColor ) ? value.clone() : value;\n\n\t\t\t\t}\n\n\t\t\t\treturn target;\n\n\t\t\t},\n\n\t\t\t// Here's based on refreshUniformsCommon() and refreshUniformsStandard() in WebGLRenderer.\n\t\t\trefreshUniforms: function ( renderer, scene, camera, geometry, material ) {\n\n\t\t\t\tif ( material.isGLTFSpecularGlossinessMaterial !== true ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tvar uniforms = material.uniforms;\n\t\t\t\tvar defines = material.defines;\n\n\t\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t\t\tuniforms.diffuse.value.copy( material.color );\n\t\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t\t\tuniforms.map.value = material.map;\n\t\t\t\tuniforms.specularMap.value = material.specularMap;\n\t\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t\t\t// uv repeat and offset setting priorities\n\t\t\t\t// 1. color map\n\t\t\t\t// 2. specular map\n\t\t\t\t// 3. normal map\n\t\t\t\t// 4. bump map\n\t\t\t\t// 5. alpha map\n\t\t\t\t// 6. emissive map\n\n\t\t\t\tvar uvScaleMap;\n\n\t\t\t\tif ( material.map ) {\n\n\t\t\t\t\tuvScaleMap = material.map;\n\n\t\t\t\t} else if ( material.specularMap ) {\n\n\t\t\t\t\tuvScaleMap = material.specularMap;\n\n\t\t\t\t} else if ( material.displacementMap ) {\n\n\t\t\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t\t\t} else if ( material.normalMap ) {\n\n\t\t\t\t\tuvScaleMap = material.normalMap;\n\n\t\t\t\t} else if ( material.bumpMap ) {\n\n\t\t\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t\t\t} else if ( material.glossinessMap ) {\n\n\t\t\t\t\tuvScaleMap = material.glossinessMap;\n\n\t\t\t\t} else if ( material.alphaMap ) {\n\n\t\t\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t\t\t} else if ( material.emissiveMap ) {\n\n\t\t\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t\t\t}\n\n\t\t\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t\t\t// backwards compatibility\n\t\t\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t\t\t}\n\n\t\t\t\tif ( material.envMap ) {\n\n\t\t\t\t\tuniforms.envMap.value = material.envMap;\n\t\t\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\t\t\tuniforms.flipEnvMap.value = material.envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\t\t\tuniforms.maxMipLevel.value = renderer.properties.get( material.envMap ).__maxMipLevel;\n\n\t\t\t\t}\n\n\t\t\t\tuniforms.specular.value.copy( material.specular );\n\t\t\t\tuniforms.glossiness.value = material.glossiness;\n\n\t\t\t\tuniforms.glossinessMap.value = material.glossinessMap;\n\n\t\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t\t\tif ( uniforms.glossinessMap.value !== null && defines.USE_GLOSSINESSMAP === undefined ) {\n\n\t\t\t\t\tdefines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t// set USE_ROUGHNESSMAP to enable vUv\n\t\t\t\t\tdefines.USE_ROUGHNESSMAP = '';\n\n\t\t\t\t}\n\n\t\t\t\tif ( uniforms.glossinessMap.value === null && defines.USE_GLOSSINESSMAP !== undefined ) {\n\n\t\t\t\t\tdelete defines.USE_GLOSSINESSMAP;\n\t\t\t\t\tdelete defines.USE_ROUGHNESSMAP;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/*********************************/\n\t/********** INTERPOLATION ********/\n\t/*********************************/\n\n\t// Spline Interpolation\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tTHREE.Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tGLTFCubicSplineInterpolant.prototype = Object.create( THREE.Interpolant.prototype );\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer;\n\t\tvar values = this.sampleValues;\n\t\tvar stride = this.valueSize;\n\n\t\tvar stride2 = stride * 2;\n\t\tvar stride3 = stride * 3;\n\n\t\tvar td = t1 - t0;\n\n\t\tvar p = ( t - t0 ) / td;\n\t\tvar pp = p * p;\n\t\tvar ppp = pp * p;\n\n\t\tvar offset1 = i1 * stride3;\n\t\tvar offset0 = offset1 - stride3;\n\n\t\tvar s2 = - 2 * ppp + 3 * pp;\n\t\tvar s3 = ppp - pp;\n\t\tvar s0 = 1 - s2;\n\t\tvar s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\n\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\t/*********************************/\n\t/********** INTERNALS ************/\n\t/*********************************/\n\n\t/* CONSTANTS */\n\n\tvar WEBGL_CONSTANTS = {\n\t\tFLOAT: 5126,\n\t\t//FLOAT_MAT2: 35674,\n\t\tFLOAT_MAT3: 35675,\n\t\tFLOAT_MAT4: 35676,\n\t\tFLOAT_VEC2: 35664,\n\t\tFLOAT_VEC3: 35665,\n\t\tFLOAT_VEC4: 35666,\n\t\tLINEAR: 9729,\n\t\tREPEAT: 10497,\n\t\tSAMPLER_2D: 35678,\n\t\tPOINTS: 0,\n\t\tLINES: 1,\n\t\tLINE_LOOP: 2,\n\t\tLINE_STRIP: 3,\n\t\tTRIANGLES: 4,\n\t\tTRIANGLE_STRIP: 5,\n\t\tTRIANGLE_FAN: 6,\n\t\tUNSIGNED_BYTE: 5121,\n\t\tUNSIGNED_SHORT: 5123\n\t};\n\n\tvar WEBGL_COMPONENT_TYPES = {\n\t\t5120: Int8Array,\n\t\t5121: Uint8Array,\n\t\t5122: Int16Array,\n\t\t5123: Uint16Array,\n\t\t5125: Uint32Array,\n\t\t5126: Float32Array\n\t};\n\n\tvar WEBGL_FILTERS = {\n\t\t9728: THREE.NearestFilter,\n\t\t9729: THREE.LinearFilter,\n\t\t9984: THREE.NearestMipmapNearestFilter,\n\t\t9985: THREE.LinearMipmapNearestFilter,\n\t\t9986: THREE.NearestMipmapLinearFilter,\n\t\t9987: THREE.LinearMipmapLinearFilter\n\t};\n\n\tvar WEBGL_WRAPPINGS = {\n\t\t33071: THREE.ClampToEdgeWrapping,\n\t\t33648: THREE.MirroredRepeatWrapping,\n\t\t10497: THREE.RepeatWrapping\n\t};\n\n\tvar WEBGL_TYPE_SIZES = {\n\t\t'SCALAR': 1,\n\t\t'VEC2': 2,\n\t\t'VEC3': 3,\n\t\t'VEC4': 4,\n\t\t'MAT2': 4,\n\t\t'MAT3': 9,\n\t\t'MAT4': 16\n\t};\n\n\tvar ATTRIBUTES = {\n\t\tPOSITION: 'position',\n\t\tNORMAL: 'normal',\n\t\tTANGENT: 'tangent',\n\t\tTEXCOORD_0: 'uv',\n\t\tTEXCOORD_1: 'uv2',\n\t\tCOLOR_0: 'color',\n\t\tWEIGHTS_0: 'skinWeight',\n\t\tJOINTS_0: 'skinIndex',\n\t};\n\n\tvar PATH_PROPERTIES = {\n\t\tscale: 'scale',\n\t\ttranslation: 'position',\n\t\trotation: 'quaternion',\n\t\tweights: 'morphTargetInfluences'\n\t};\n\n\tvar INTERPOLATION = {\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\t\tLINEAR: THREE.InterpolateLinear,\n\t\tSTEP: THREE.InterpolateDiscrete\n\t};\n\n\tvar ALPHA_MODES = {\n\t\tOPAQUE: 'OPAQUE',\n\t\tMASK: 'MASK',\n\t\tBLEND: 'BLEND'\n\t};\n\n\tvar MIME_TYPE_FORMATS = {\n\t\t'image/png': THREE.RGBAFormat,\n\t\t'image/jpeg': THREE.RGBFormat\n\t};\n\n\t/* UTILITY FUNCTIONS */\n\n\tfunction resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n\tvar defaultMaterial;\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n\t */\n\tfunction createDefaultMaterial() {\n\n\t\tdefaultMaterial = defaultMaterial || new THREE.MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: THREE.FrontSide\n\t\t} );\n\n\t\treturn defaultMaterial;\n\n\t}\n\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t\t// Add unknown glTF extensions to an object's userData.\n\n\t\tfor ( var name in objectDef.extensions ) {\n\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * @param {THREE.Object3D|THREE.Material|THREE.BufferGeometry} object\n\t * @param {GLTF.definition} gltfDef\n\t */\n\tfunction assignExtrasToUserData( object, gltfDef ) {\n\n\t\tif ( gltfDef.extras !== undefined ) {\n\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n\t *\n\t * @param {THREE.BufferGeometry} geometry\n\t * @param {Array<GLTF.Target>} targets\n\t * @param {GLTFParser} parser\n\t * @return {Promise<THREE.BufferGeometry>}\n\t */\n\tfunction addMorphTargets( geometry, targets, parser ) {\n\n\t\tvar hasMorphPosition = false;\n\t\tvar hasMorphNormal = false;\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t\t}\n\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\t\tvar pendingPositionAccessors = [];\n\t\tvar pendingNormalAccessors = [];\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t\t: geometry.attributes.position;\n\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t\t: geometry.attributes.normal;\n\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( [\n\t\t\tPromise.all( pendingPositionAccessors ),\n\t\t\tPromise.all( pendingNormalAccessors )\n\t\t] ).then( function ( accessors ) {\n\n\t\t\tvar morphPositions = accessors[ 0 ];\n\t\t\tvar morphNormals = accessors[ 1 ];\n\n\t\t\t// Clone morph target accessors before modifying them.\n\n\t\t\tfor ( var i = 0, il = morphPositions.length; i < il; i ++ ) {\n\n\t\t\t\tif ( geometry.attributes.position === morphPositions[ i ] ) continue;\n\n\t\t\t\tmorphPositions[ i ] = cloneBufferAttribute( morphPositions[ i ] );\n\n\t\t\t}\n\n\t\t\tfor ( var i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( geometry.attributes.normal === morphNormals[ i ] ) continue;\n\n\t\t\t\tmorphNormals[ i ] = cloneBufferAttribute( morphNormals[ i ] );\n\n\t\t\t}\n\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\t\tvar target = targets[ i ];\n\t\t\t\tvar attributeName = 'morphTarget' + i;\n\n\t\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\t\t// Three.js morph position is absolute value. The formula is\n\t\t\t\t\t//   basePosition\n\t\t\t\t\t//     + weight0 * ( morphPosition0 - basePosition )\n\t\t\t\t\t//     + weight1 * ( morphPosition1 - basePosition )\n\t\t\t\t\t//     ...\n\t\t\t\t\t// while the glTF one is relative\n\t\t\t\t\t//   basePosition\n\t\t\t\t\t//     + weight0 * glTFmorphPosition0\n\t\t\t\t\t//     + weight1 * glTFmorphPosition1\n\t\t\t\t\t//     ...\n\t\t\t\t\t// then we need to convert from relative to absolute here.\n\n\t\t\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\t\t\tvar positionAttribute = morphPositions[ i ];\n\t\t\t\t\t\tpositionAttribute.name = attributeName;\n\n\t\t\t\t\t\tvar position = geometry.attributes.position;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = positionAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tpositionAttribute.setXYZ(\n\t\t\t\t\t\t\t\tj,\n\t\t\t\t\t\t\t\tpositionAttribute.getX( j ) + position.getX( j ),\n\t\t\t\t\t\t\t\tpositionAttribute.getY( j ) + position.getY( j ),\n\t\t\t\t\t\t\t\tpositionAttribute.getZ( j ) + position.getZ( j )\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\t\t// see target.POSITION's comment\n\n\t\t\t\t\tif ( target.NORMAL !== undefined ) {\n\n\t\t\t\t\t\tvar normalAttribute = morphNormals[ i ];\n\t\t\t\t\t\tnormalAttribute.name = attributeName;\n\n\t\t\t\t\t\tvar normal = geometry.attributes.normal;\n\n\t\t\t\t\t\tfor ( var j = 0, jl = normalAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tnormalAttribute.setXYZ(\n\t\t\t\t\t\t\t\tj,\n\t\t\t\t\t\t\t\tnormalAttribute.getX( j ) + normal.getX( j ),\n\t\t\t\t\t\t\t\tnormalAttribute.getY( j ) + normal.getY( j ),\n\t\t\t\t\t\t\t\tnormalAttribute.getZ( j ) + normal.getZ( j )\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\n\t\t\treturn geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {THREE.Mesh} mesh\n\t * @param {GLTF.Mesh} meshDef\n\t */\n\tfunction updateMorphTargets( mesh, meshDef ) {\n\n\t\tmesh.updateMorphTargets();\n\n\t\tif ( meshDef.weights !== undefined ) {\n\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\t\tvar targetNames = meshDef.extras.targetNames;\n\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createPrimitiveKey( primitiveDef ) {\n\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\t\tvar geometryKey;\n\n\t\tif ( dracoExtension ) {\n\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t\t} else {\n\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t\t}\n\n\t\treturn geometryKey;\n\n\t}\n\n\tfunction createAttributesKey( attributes ) {\n\n\t\tvar attributesKey = '';\n\n\t\tvar keys = Object.keys( attributes ).sort();\n\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t\t}\n\n\t\treturn attributesKey;\n\n\t}\n\n\tfunction cloneBufferAttribute( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\tvar count = attribute.count;\n\t\t\tvar itemSize = attribute.itemSize;\n\t\t\tvar array = attribute.array.slice( 0, count * itemSize );\n\n\t\t\tfor ( var i = 0, j = 0; i < count; ++ i ) {\n\n\t\t\t\tarray[ j ++ ] = attribute.getX( i );\n\t\t\t\tif ( itemSize >= 2 ) array[ j ++ ] = attribute.getY( i );\n\t\t\t\tif ( itemSize >= 3 ) array[ j ++ ] = attribute.getZ( i );\n\t\t\t\tif ( itemSize >= 4 ) array[ j ++ ] = attribute.getW( i );\n\n\t\t\t}\n\n\t\t\treturn new THREE.BufferAttribute( array, itemSize, attribute.normalized );\n\n\t\t}\n\n\t\treturn attribute.clone();\n\n\t}\n\n\t/* GLTF PARSER */\n\n\tfunction GLTFParser( json, extensions, options ) {\n\n\t\tthis.json = json || {};\n\t\tthis.extensions = extensions || {};\n\t\tthis.options = options || {};\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\tthis.textureLoader = new THREE.TextureLoader( this.options.manager );\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\n\t\tthis.fileLoader = new THREE.FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis.markDefs();\n\n\t\tPromise.all( [\n\n\t\t\tthis.getDependencies( 'scene' ),\n\t\t\tthis.getDependencies( 'animation' ),\n\t\t\tthis.getDependencies( 'camera' ),\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tonLoad( result );\n\n\t\t} ).catch( onError );\n\n\t};\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\tGLTFParser.prototype.markDefs = function () {\n\n\t\tvar nodeDefs = this.json.nodes || [];\n\t\tvar skinDefs = this.json.skins || [];\n\t\tvar meshDefs = this.json.meshes || [];\n\n\t\tvar meshReferences = {};\n\t\tvar meshUses = {};\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Meshes can (and should) be reused by multiple nodes in a glTF asset. To\n\t\t// avoid having more than one THREE.Mesh with the same name, count\n\t\t// references and rename instances below.\n\t\t//\n\t\t// Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tif ( meshReferences[ nodeDef.mesh ] === undefined ) {\n\n\t\t\t\t\tmeshReferences[ nodeDef.mesh ] = meshUses[ nodeDef.mesh ] = 0;\n\n\t\t\t\t}\n\n\t\t\t\tmeshReferences[ nodeDef.mesh ] ++;\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.json.meshReferences = meshReferences;\n\t\tthis.json.meshUses = meshUses;\n\n\t};\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<THREE.Object3D|THREE.Material|THREE.Texture|THREE.AnimationClip|ArrayBuffer|Object>}\n\t */\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\n\n\t\tvar cacheKey = type + ':' + index;\n\t\tvar dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this.loadMesh( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this.loadBufferView( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this.loadMaterial( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this.loadTexture( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'light':\n\t\t\t\t\tdependency = this.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].loadLight( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t};\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tGLTFParser.prototype.getDependencies = function ( type ) {\n\n\t\tvar dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tvar parser = this;\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\n\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\n\t\tvar loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\n\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<THREE.BufferAttribute|THREE.InterleavedBufferAttribute>}\n\t */\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tvar pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tvar bufferView = bufferViews[ 0 ];\n\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tvar itemBytes = elementBytes * itemSize;\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tvar normalized = accessorDef.normalized === true;\n\t\t\tvar array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new THREE.InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new THREE.InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new THREE.BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new THREE.BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar options = this.options;\n\t\tvar textureLoader = this.textureLoader;\n\n\t\tvar URL = window.URL || window.webkitURL;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tvar textureExtensions = textureDef.extensions || {};\n\n\t\tvar source;\n\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\n\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\n\n\t\t} else {\n\n\t\t\tsource = json.images[ textureDef.source ];\n\n\t\t}\n\n\t\tvar sourceURI = source.uri;\n\t\tvar isObjectURL = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\t// Load Texture resource.\n\n\t\t\tvar loader = options.manager.getHandler( sourceURI );\n\n\t\t\tif ( ! loader ) {\n\n\t\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\n\t\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\n\t\t\t\t\t: textureLoader;\n\n\t\t\t}\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), resolve, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name !== undefined ) texture.name = textureDef.name;\n\n\t\t\t// Ignore unknown mime types, like DDS files.\n\t\t\tif ( source.mimeType in MIME_TYPE_FORMATS ) {\n\n\t\t\t\ttexture.format = MIME_TYPE_FORMATS[ source.mimeType ];\n\n\t\t\t}\n\n\t\t\tvar samplers = json.samplers || {};\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || THREE.LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || THREE.LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || THREE.RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || THREE.RepeatWrapping;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise}\n\t */\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\n\n\t\tvar parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\tif ( ! texture.isCompressedTexture ) {\n\n\t\t\t\tswitch ( mapName ) {\n\n\t\t\t\t\tcase 'aoMap':\n\t\t\t\t\tcase 'emissiveMap':\n\t\t\t\t\tcase 'metalnessMap':\n\t\t\t\t\tcase 'normalMap':\n\t\t\t\t\tcase 'roughnessMap':\n\t\t\t\t\t\ttexture.format = THREE.RGBFormat;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accomodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {THREE.Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\n\n\t\tvar geometry = mesh.geometry;\n\t\tvar material = mesh.material;\n\t\tvar extensions = this.extensions;\n\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new THREE.PointsMaterial();\n\t\t\t\tTHREE.Material.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new THREE.LineBasicMaterial();\n\t\t\t\tTHREE.Material.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\n\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.isGLTFSpecularGlossinessMaterial\n\t\t\t\t\t? extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].cloneMaterial( material )\n\t\t\t\t\t: material.clone();\n\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = THREE.VertexColors;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tconsole.log( 'THREE.GLTFLoader: Duplicating UVs to support aoMap.' );\n\t\t\tgeometry.setAttribute( 'uv2', new THREE.BufferAttribute( geometry.attributes.uv.array, 2 ) );\n\n\t\t}\n\n\t\tif ( material.isGLTFSpecularGlossinessMaterial ) {\n\n\t\t\t// for GLTFSpecularGlossinessMaterial(ShaderMaterial) uniforms runtime update\n\t\t\tmesh.onBeforeRender = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].refreshUniforms;\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<THREE.Material>}\n\t */\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar materialDef = json.materials[ materialIndex ];\n\n\t\tvar materialType;\n\t\tvar materialParams = {};\n\t\tvar materialExtensions = materialDef.extensions || {};\n\n\t\tvar pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tmaterialType = THREE.MeshStandardMaterial;\n\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new THREE.Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = THREE.DoubleSide;\n\n\t\t}\n\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== THREE.MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new THREE.Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== THREE.MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== THREE.MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new THREE.Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== THREE.MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tvar material;\n\n\t\t\tif ( materialType === THREE.ShaderMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name !== undefined ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = THREE.sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = THREE.sRGBEncoding;\n\t\t\tif ( material.specularMap ) material.specularMap.encoding = THREE.sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * @param {THREE.BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t * @return {Promise<THREE.BufferGeometry>}\n\t */\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar pending = [];\n\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t\t.then( function ( accessor ) {\n\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tfor ( var gltfAttributeName in attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t\t}\n\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\t\tgeometry.setIndex( accessor );\n\n\t\t\t} );\n\n\t\t\tpending.push( accessor );\n\n\t\t}\n\n\t\tassignExtrasToUserData( geometry, primitiveDef );\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn primitiveDef.targets !== undefined\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t\t: geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<THREE.BufferGeometry>>}\n\t */\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\n\n\t\tvar parser = this;\n\t\tvar extensions = this.extensions;\n\t\tvar cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar primitive = primitives[ i ];\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tvar cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tvar geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new THREE.BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<THREE.Group|THREE.Mesh|THREE.SkinnedMesh>}\n\t */\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar meshDef = json.meshes[ meshIndex ];\n\t\tvar primitives = meshDef.primitives;\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial()\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function ( originalMaterials ) {\n\n\t\t\treturn parser.loadGeometries( primitives ).then( function ( geometries ) {\n\n\t\t\t\tvar meshes = [];\n\n\t\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar geometry = geometries[ i ];\n\t\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\t\t// 1. create Mesh\n\n\t\t\t\t\tvar mesh;\n\n\t\t\t\t\tvar material = originalMaterials[ i ];\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See .markDefs()\n\t\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t\t? new THREE.SkinnedMesh( geometry, material )\n\t\t\t\t\t\t\t: new THREE.Mesh( geometry, material );\n\n\t\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\t\tmesh.drawMode = THREE.TriangleStripDrawMode;\n\n\t\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\t\tmesh.drawMode = THREE.TriangleFanDrawMode;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineSegments( geometry, material );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\t\tmesh = new THREE.Line( geometry, material );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineLoop( geometry, material );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\t\tmesh = new THREE.Points( geometry, material );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmesh.name = meshDef.name || ( 'mesh_' + meshIndex );\n\n\t\t\t\t\tif ( geometries.length > 1 ) mesh.name += '_' + i;\n\n\t\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\t\tmeshes.push( mesh );\n\n\t\t\t\t}\n\n\t\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tvar group = new THREE.Group();\n\n\t\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn group;\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\n\n\t\tvar camera;\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\n\t\tvar params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new THREE.PerspectiveCamera( THREE.Math.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new THREE.OrthographicCamera( params.xmag / - 2, params.xmag / 2, params.ymag / 2, params.ymag / - 2, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name !== undefined ) camera.name = cameraDef.name;\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\n\n\t\tvar skinDef = this.json.skins[ skinIndex ];\n\n\t\tvar skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<THREE.AnimationClip>}\n\t */\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\n\n\t\tvar json = this.json;\n\n\t\tvar animationDef = json.animations[ animationIndex ];\n\n\t\tvar pendingNodes = [];\n\t\tvar pendingInputAccessors = [];\n\t\tvar pendingOutputAccessors = [];\n\t\tvar pendingSamplers = [];\n\t\tvar pendingTargets = [];\n\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tvar channel = animationDef.channels[ i ];\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tvar target = channel.target;\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar nodes = dependencies[ 0 ];\n\t\t\tvar inputAccessors = dependencies[ 1 ];\n\t\t\tvar outputAccessors = dependencies[ 2 ];\n\t\t\tvar samplers = dependencies[ 3 ];\n\t\t\tvar targets = dependencies[ 4 ];\n\n\t\t\tvar tracks = [];\n\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tvar node = nodes[ i ];\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\n\t\t\t\tvar sampler = samplers[ i ];\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tvar TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = THREE.NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = THREE.QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = THREE.VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : THREE.InterpolateLinear;\n\n\t\t\t\tvar targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a THREE.Group (glTF mesh with several primitives) or a THREE.Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tvar outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tvar scale;\n\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 127;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 255;\n\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 32767;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 65535;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = animationDef.name !== undefined ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new THREE.AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<THREE.Object3D>}\n\t */\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar parser = this;\n\n\t\tvar meshReferences = json.meshReferences;\n\t\tvar meshUses = json.meshUses;\n\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\n\n\t\treturn ( function () {\n\n\t\t\tvar pending = [];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\t\t\tvar node;\n\n\t\t\t\t\tif ( meshReferences[ nodeDef.mesh ] > 1 ) {\n\n\t\t\t\t\t\tvar instanceNum = meshUses[ nodeDef.mesh ] ++;\n\n\t\t\t\t\t\tnode = mesh.clone();\n\t\t\t\t\t\tnode.name += '_instance_' + instanceNum;\n\n\t\t\t\t\t\t// onBeforeRender copy for Specular-Glossiness\n\t\t\t\t\t\tnode.onBeforeRender = mesh.onBeforeRender;\n\n\t\t\t\t\t\tfor ( var i = 0, il = node.children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tnode.children[ i ].name += '_instance_' + instanceNum;\n\t\t\t\t\t\t\tnode.children[ i ].onBeforeRender = mesh.children[ i ].onBeforeRender;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tnode = mesh;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ]\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'light', nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tvar node;\n\n\t\t\t// .isBone isn't in glTF spec. See .markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new THREE.Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new THREE.Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new THREE.Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name !== undefined ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = THREE.PropertyBinding.sanitizeNodeName( nodeDef.name );\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tvar matrix = new THREE.Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<THREE.Scene>}\n\t */\n\tGLTFParser.prototype.loadScene = function () {\n\n\t\t// scene node hierachy builder\n\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\n\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t\t\t// build skeleton here as well\n\n\t\t\t\tvar skinEntry;\n\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\t\t\tskinEntry = skin;\n\n\t\t\t\t\tvar pendingJoints = [];\n\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.all( pendingJoints );\n\n\t\t\t\t} ).then( function ( jointNodes ) {\n\n\t\t\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\t\t\tvar bones = [];\n\t\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\n\n\t\t\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\t\t\tvar mat = new THREE.Matrix4();\n\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmesh.bind( new THREE.Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} );\n\n\t\t\t} ).then( function ( node ) {\n\n\t\t\t\t// build node hierachy\n\n\t\t\t\tparentObject.add( node );\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( nodeDef.children ) {\n\n\t\t\t\t\tvar children = nodeDef.children;\n\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar child = children[ i ];\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn function loadScene( sceneIndex ) {\n\n\t\t\tvar json = this.json;\n\t\t\tvar extensions = this.extensions;\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\n\t\t\tvar parser = this;\n\n\t\t\tvar scene = new THREE.Scene();\n\t\t\tif ( sceneDef.name !== undefined ) scene.name = sceneDef.name;\n\n\t\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\t\tvar nodeIds = sceneDef.nodes || [];\n\n\t\t\tvar pending = [];\n\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t\treturn scene;\n\n\t\t\t} );\n\n\t\t};\n\n\t}();\n\n\treturn GLTFLoader;\n\n} )();\n\n\nmodule.exports = _GLTFLoader;\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){\"use strict\";var c=function(){var n=0,l=document.createElement(\"div\");function e(e){return l.appendChild(e.dom),e}function t(e){for(var t=0;t<l.children.length;t++)l.children[t].style.display=t===e?\"block\":\"none\";n=e}l.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",l.addEventListener(\"click\",function(e){e.preventDefault(),t(++n%l.children.length)},!1);var i=(performance||Date).now(),a=i,o=0,f=e(new c.Panel(\"FPS\",\"#0ff\",\"#002\")),r=e(new c.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var d=e(new c.Panel(\"MB\",\"#f08\",\"#201\"));return t(0),{REVISION:16,dom:l,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(r.update(e-i,200),a+1e3<=e&&(f.update(1e3*o/(e-a),100),a=e,o=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:l,setMode:t}};return c.Panel=function(n,l,i){var a=1/0,o=0,f=Math.round,r=f(window.devicePixelRatio||1),d=80*r,e=48*r,c=3*r,p=2*r,u=3*r,s=15*r,m=74*r,h=30*r,y=document.createElement(\"canvas\");y.width=d,y.height=e,y.style.cssText=\"width:80px;height:48px\";var v=y.getContext(\"2d\");return v.font=\"bold \"+9*r+\"px Helvetica,Arial,sans-serif\",v.textBaseline=\"top\",v.fillStyle=i,v.fillRect(0,0,d,e),v.fillStyle=l,v.fillText(n,c,p),v.fillRect(u,s,m,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u,s,m,h),{dom:y,update:function(e,t){a=Math.min(a,e),o=Math.max(o,e),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,d,s),v.fillStyle=l,v.fillText(f(e)+\" \"+n+\" (\"+f(a)+\"-\"+f(o)+\")\",c,p),v.drawImage(y,u+r,s,m-r,h,u,s,m-r,h),v.fillRect(u+m-r,s,r,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u+m-r,s,r,f((1-e/t)*h))}}},c});\n","module.exports = (__webpack_require__(2))(2);","'use strict';\n\nvar objectAssign = require('object-assign');\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","import * as THREE from 'three'\r\n\r\nvar scene;\r\n\r\nfunction initScene(){\r\n    scene = new THREE.Scene();\r\n}\r\n\r\nexport {scene, initScene}","import * as THREE from 'three'\r\nimport {scene} from './initScene.js'\r\n\r\nclass Maze{\r\n    // 製作一個M X N的迷宮，每個寬度為width，牆壁厚度為thickness，其高度為wallHeight\r\n    constructor(m,n,width,thickness,wallHeight){\r\n        this.m = m;\r\n        this.n = n;\r\n        this.width = width;\r\n        this.thickness = thickness;\r\n        this.wallHeight = wallHeight;\r\n        this.row = [];\r\n        this.col = [];\r\n        this.wall = [];\r\n        this.graph = [];\r\n\r\n        this.initMaze(m,n,width,thickness,wallHeight);\r\n    }\r\n\r\n    initMaze(m,n,width,thickness,wallHeight){\r\n        this.initData(m,n);\r\n\r\n        let loader = new THREE.TextureLoader();\r\n        loader.crossOrigin = '';\r\n        let texturePath = './texture/wall/1.jpg';\r\n\r\n        let textureOutX = loader.load(texturePath);\r\n        let textureOutY = loader.load(texturePath);\r\n        let textureOutZ = loader.load(texturePath);\r\n        let textureInZ = loader.load(texturePath);\r\n        let textureInY = loader.load(texturePath);\r\n\r\n        textureOutX.wrapS = textureOutX.wrapT = textureOutY.wrapS = textureOutY.wrapT = textureOutZ.wrapS = textureOutZ.wrapT = THREE.RepeatWrapping;\r\n        textureOutX.repeat.set(thickness / wallHeight, 1);\r\n        textureOutY.repeat.set(n, 50 / 1000);\r\n        textureOutZ.repeat.set(n, 1);\r\n\r\n        textureInY.repeat.set(1,50 / 1000);\r\n\r\n        let matArrayOut = [];\r\n        matArrayOut.push(new THREE.MeshPhongMaterial({map: textureOutX}),\r\n            new THREE.MeshPhongMaterial({map: textureOutX}),\r\n            new THREE.MeshPhongMaterial({map: textureOutY}),\r\n            new THREE.MeshPhongMaterial({map: textureOutY}),\r\n            new THREE.MeshPhongMaterial({map: textureOutZ}),\r\n            new THREE.MeshPhongMaterial({map: textureOutZ})\r\n        );\r\n\r\n        let matArrayIn = [];\r\n        matArrayIn.push(new THREE.MeshPhongMaterial({map: textureOutX}),\r\n            new THREE.MeshPhongMaterial({map: textureOutX}),\r\n            new THREE.MeshPhongMaterial({map: textureInY}),\r\n            new THREE.MeshPhongMaterial({map: textureInY}),\r\n            new THREE.MeshPhongMaterial({map: textureInZ}),\r\n            new THREE.MeshPhongMaterial({map: textureInZ})\r\n        );\r\n\r\n        var topWall = new THREE.Mesh(new THREE.BoxGeometry(n * width,wallHeight,thickness),matArrayOut);\r\n        var bottomWall = new THREE.Mesh(new THREE.BoxGeometry(n * width,wallHeight,thickness),matArrayOut);\r\n        var leftWall = new THREE.Mesh(new THREE.BoxGeometry(n * width,wallHeight,thickness),matArrayOut);\r\n        var rightWall = new THREE.Mesh(new THREE.BoxGeometry(n * width,wallHeight,thickness),matArrayOut);\r\n        \r\n        leftWall.rotation.y = rightWall.rotation.y = Math.PI / 2;\r\n\r\n        topWall.position.set(n * width / 2,wallHeight / 2,0);\r\n        bottomWall.position.set(n * width / 2,wallHeight / 2,m * width);\r\n        leftWall.position.set(0,wallHeight / 2,m * width / 2);\r\n        rightWall.position.set(n * width, wallHeight / 2, m * width / 2);\r\n\r\n        scene.add(topWall,bottomWall,leftWall,rightWall);\r\n        this.wall.push(topWall,bottomWall,leftWall,rightWall);\r\n\r\n        var i;\r\n        /*init Graph use adjency list*/\r\n        \r\n        for(i = 0; i < m * n; i++){\r\n            var temp = new Array(4);\r\n            temp.fill(null);\r\n\r\n            if(i - n >= 0) // top\r\n                temp[0] = i - n;\r\n            if(i % n !== 0) // left\r\n                temp[1] = i - 1;\r\n            if(i + n < m * n) // bottom\r\n                temp[2] = i + n; \r\n            if((i + 1) % n !== 0) // right\r\n                temp[3] = i + 1;\r\n            \r\n            this.graph.push(temp);\r\n        }\r\n        \r\n        ///////////row/////////////\r\n        let wall = new THREE.Mesh(new THREE.BoxGeometry(width, wallHeight, thickness), matArrayIn);\r\n        let wallclone;\r\n        for (i = 0; i < this.row.length; i++) {\r\n            wallclone = wall.clone();\r\n            wallclone.position.x = (this.row[i][1]) * width;\r\n            wallclone.position.z = this.row[i][0] * width + (width / 2);\r\n            wallclone.position.y = wallHeight / 2;\r\n            wallclone.rotation.y = Math.PI / 2;\r\n\r\n            // update graph\r\n            let left = (this.row[i][1] - 1) + n * this.row[i][0];\r\n            let right = this.row[i][1] + n * this.row[i][0];\r\n\r\n            wallclone.mazeData = {\r\n                isRow: true,\r\n                frontPoint: left,\r\n                nextPoint: right\r\n            }\r\n\r\n            this.wall.push(wallclone);\r\n            scene.add(wallclone);\r\n\r\n            this.graph[left][this.graph[left].indexOf(right)] = null;\r\n            this.graph[right][this.graph[right].indexOf(left)] = null;\r\n        }\r\n        ////////////////col/////////////////////  \r\n        for (i = 0; i < this.col.length; i++) {\r\n            wallclone = wall.clone();\r\n            wallclone.position.z = (this.col[i][1]) * width;\r\n            wallclone.position.x = this.col[i][0] * width + (width / 2);\r\n            wallclone.position.y = wallHeight / 2;\r\n            //wallclone.rotation.y = Math.PI/2;\r\n\r\n            // update graph\r\n            let top = (this.col[i][1] - 1) * n + this.col[i][0];\r\n            let bottom = this.col[i][1] * n + this.col[i][0];\r\n\r\n            wallclone.mazeData = {\r\n                isRow: false,\r\n                frontPoint: top,\r\n                nextPoint: bottom\r\n            }\r\n\r\n            this.wall.push(wallclone);\r\n            scene.add(wallclone);\r\n\r\n            this.graph[top][this.graph[top].indexOf(bottom)] = null;\r\n            this.graph[bottom][this.graph[bottom].indexOf(top)] = null;\r\n        }\r\n\r\n        this.wall.forEach(function(e){\r\n            e.traverse(function(t){\r\n                if(t instanceof THREE.Mesh)\r\n                    t.castShadow = t.receiveShadow = true;\r\n            })\r\n        });\r\n    }\r\n\r\n    // use kruskal's algorithm\r\n    initData(m,n){\r\n        var sets = [];\r\n        var walls = [];\r\n\r\n        for(let i = 0; i < m * n; i++)\r\n            sets.push(i);\r\n        \r\n        for(let i = 0; i < m; i++){\r\n            for(let j = 1; j < n; j++){\r\n                walls.push([0,i,j]);\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i < n; i++){\r\n            for(let j = 1; j < m; j++){\r\n                walls.push([1,i,j]);\r\n            }\r\n        }\r\n\r\n        let t = 0;\r\n        while(walls.length > 0){           // 5->45%  50->35%   90->25%\r\n            let choose = Math.floor((walls.length * Math.random()));\r\n            let a,b;\r\n\r\n            //console.log('walls length: ' + walls.length);\r\n            //console.log('choose:' + choose);\r\n            if(walls[choose][0] === 0){\r\n                a = walls[choose][1] * n + walls[choose][2] - 1;\r\n                b = walls[choose][1] * n + walls[choose][2];\r\n            }\r\n            else {\r\n                a = (walls[choose][2] - 1) * n + walls[choose][1];\r\n                b = walls[choose][2] * n + walls[choose][1];\r\n            }\r\n\r\n            if(sets[a] === -1 || sets[b] === -1 || !Union_set(a,b)){\r\n                if(walls[choose][0] === 0)\r\n                    this.row.push([walls[choose][1],walls[choose][2]]);\r\n                else\r\n                    this.col.push([walls[choose][1],walls[choose][2]]);\r\n                t++;\r\n            }\r\n            \r\n            let temp = walls[choose];\r\n            walls[choose] = walls[walls.length - 1];\r\n            walls[walls.length - 1] = temp;\r\n\r\n            walls.pop();\r\n        }\r\n\r\n        console.log(t);\r\n        console.log('牆密度為' + t / (n * (m - 1) + m * (n - 1)));\r\n\r\n\r\n        function Union_set(x,y){\r\n            var a = find(x);\r\n            var b = find(y);\r\n\r\n            if(a !== b){\r\n                sets[b] = a;\r\n                return true;\r\n            }\r\n            else return false;\r\n        }\r\n\r\n        function find(n){\r\n            if(n == sets[n])\r\n                return n;\r\n            return sets[n] = find(sets[n]);\r\n        }\r\n    }\r\n\r\n\r\n    /*\r\n        data = {isRow, frontPoint, nextPoint}\r\n    */\r\n    removeWall(data){       //還沒做出row,col的刪除，pickable的刪除狀況，\r\n        let a = data.frontPoint;\r\n        let b = data.nextPoint;\r\n\r\n        \r\n        let x = Math.floor(a / this.n);\r\n        let y = a % this.n + 1;\r\n\r\n        if(b - a === 1){\r\n            let i;\r\n            for(i = 0; i < this.row.length; i++)\r\n                if(this.row[i][0] === x && this.row[i][1] === y)\r\n                    break;\r\n            this.row.splice(i,1);\r\n        }\r\n        else {\r\n            let i;\r\n            for(i = 0; i < this.col.length; i++)\r\n                if(this.col[i][0] === x && this.col[i][1] === y)\r\n                    break;\r\n            this.col.splice(i,1);\r\n        }\r\n\r\n        this.pushInGraph(a,b);\r\n        this.pushInGraph(b,a);\r\n        \r\n        \r\n        return;\r\n        var start = a;\r\n\r\n        var path = [];\r\n        for(let i = 0; i < 4; i++){\r\n            if(this.graph[a][i] !== null){\r\n                let x = DFS(this.graph,a,this.graph[a][i]);\r\n                if(x !== -1){\r\n                    path.push(x);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        let choose = Math.floor((path.length * Math.random()));\r\n        if(choose + 1 === path.length){\r\n            a = path[choose];\r\n            b = path[0];\r\n        }\r\n        else {\r\n            a = path[choose];\r\n            b = path[choose + 1];\r\n        }\r\n\r\n        if(a > b){\r\n            let temp = a;\r\n            a = b;\r\n            b = temp;\r\n        }\r\n\r\n        this.graph[a][this.graph[a].indexOf(b)] = null;\r\n        this.graph[b][this.graph[b].indexOf(a)] = null;\r\n        \r\n        let wallclone = new THREE.Mesh(new THREE.BoxGeometry(this.width, this.wallHeight, this.thickness), new THREE.MeshNormalMaterial());\r\n\r\n        if(b - a === 1){      //add row\r\n            let x = Math.floor(a / this.n);\r\n            let y = a % this.n + 1;\r\n            \r\n\r\n            this.row.push([x,y]);\r\n            \r\n            wallclone.position.x = y * this.width;\r\n            wallclone.position.z = x * this.width + (this.width / 2);\r\n            wallclone.position.y = this.wallHeight / 2;\r\n            wallclone.rotation.y = Math.PI / 2;\r\n\r\n            wallclone.mazeData = {\r\n                isRow: true,\r\n                frontPoint: a,\r\n                nextPoint: b\r\n            }\r\n        }\r\n        else {          //add col\r\n            let x = a % this.n;\r\n            let y = Math.floor(a / this.n) + 1;\r\n\r\n            this.col.push([x,y]);\r\n\r\n            wallclone.position.z = y * this.width;\r\n            wallclone.position.x = x * this.width + (this.width / 2);\r\n            wallclone.position.y = this.wallHeight / 2;\r\n\r\n            wallclone.mazeData = {\r\n                isRow: false,\r\n                frontPoint: a,\r\n                nextPoint: b\r\n            }\r\n        }\r\n        \r\n        scene.add(wallclone);\r\n        this.wall.push(wallclone);\r\n\r\n        function DFS(data,front,now){\r\n            console.log(now);\r\n            if(now === start)return now;\r\n            else {\r\n                for(let i = 0; i < 4; i++){\r\n                    if(data[now][i] !== null && data[now][i] !== front){\r\n                        var x = DFS(data,now,data[now][i]);\r\n\r\n                        if(x !== -1){\r\n                            path.push(x);\r\n                            return now;\r\n                        }\r\n                    }\r\n                }\r\n                return -1;\r\n            }\r\n        }\r\n    }\r\n\r\n    check(a,b){\r\n        if(this.graph[a].indexOf(b) < 0)\r\n            return false;\r\n        return true;\r\n    }\r\n\r\n    getNodeToPos(n){\r\n        let x = (n % this.n * this.width) + this.width / 2;\r\n        let z = (Math.floor(n / this.n) * this.width) + this.width / 2;\r\n        \r\n        return new THREE.Vector3(x,0,z);\r\n    }\r\n\r\n    pushInGraph(a,b){\r\n        if(a - this.n === b)\r\n            this.graph[a][0] = b;\r\n        else if(a - 1 === b)\r\n            this.graph[a][1] = b;\r\n        else if(a + this.n === b)\r\n            this.graph[a][2] = b;\r\n        else if(a + 1 === b)\r\n            this.graph[a][3] = b;\r\n        else console.log(\"pushInGraph function Error!!!\");\r\n    }\r\n}\r\n\r\nexport {Maze}","/**\r\n * @author Lee Stemkoski\r\n *\r\n * Usage:\r\n * (1) create a global variable:\r\n *      var keyboard = new KeyboardState();\r\n * (2) during main loop:\r\n *       keyboard.update();\r\n * (3) check state of keys:\r\n *       keyboard.down(\"A\")    -- true for one update cycle after key is pressed\r\n *       keyboard.pressed(\"A\") -- true as long as key is being pressed\r\n *       keyboard.up(\"A\")      -- true for one update cycle after key is released\r\n *\r\n *  See KeyboardState.k object data below for names of keys whose state can be polled\r\n */\r\n\r\n// initialization\r\nvar KeyboardState = function()\r\n{\r\n    // bind keyEvents\r\n    document.addEventListener(\"keydown\", KeyboardState.onKeyDown, false);\r\n    document.addEventListener(\"keyup\",   KeyboardState.onKeyUp,   false);\r\n}\r\n\r\n///////////////////////////////////////////////////////////////////////////////\r\n\r\nKeyboardState.k =\r\n    {\r\n        8: \"backspace\",  9: \"tab\",       13: \"enter\",    16: \"shift\",\r\n        17: \"ctrl\",     18: \"alt\",       27: \"esc\",      32: \"space\",\r\n        33: \"pageup\",   34: \"pagedown\",  35: \"end\",      36: \"home\",\r\n        37: \"left\",     38: \"up\",        39: \"right\",    40: \"down\",\r\n        45: \"insert\",   46: \"delete\",   186: \";\",       187: \"=\",\r\n        188: \",\",      189: \"-\",        190: \".\",       191: \"/\",\r\n        219: \"[\",      220: \"\\\\\",       221: \"]\",       222: \"'\"\r\n    }\r\n\r\nKeyboardState.status = {};\r\n\r\nKeyboardState.keyName = function ( keyCode )\r\n{\r\n    return ( KeyboardState.k[keyCode] != null ) ?\r\n        KeyboardState.k[keyCode] :\r\n        String.fromCharCode(keyCode);\r\n}\r\n\r\nKeyboardState.onKeyUp = function(event)\r\n{\r\n    event.preventDefault();\r\n    var key = KeyboardState.keyName(event.keyCode);\r\n    if ( KeyboardState.status[key] )\r\n        KeyboardState.status[key].pressed = false;\r\n}\r\n\r\nKeyboardState.onKeyDown = function(event)\r\n{\r\n    event.preventDefault();\r\n    var key = KeyboardState.keyName(event.keyCode);\r\n    if ( !KeyboardState.status[key] )\r\n        KeyboardState.status[key] = { down: false, pressed: false, up: false, updatedPreviously: false };\r\n}\r\n\r\nKeyboardState.prototype.update = function()\r\n{\r\n    for (var key in KeyboardState.status)\r\n    {\r\n        // insure that every keypress has \"down\" status exactly once\r\n        if ( !KeyboardState.status[key].updatedPreviously )\r\n        {\r\n            KeyboardState.status[key].down        \t\t= true;\r\n            KeyboardState.status[key].pressed     \t\t= true;\r\n            KeyboardState.status[key].updatedPreviously = true;\r\n        }\r\n        else // updated previously\r\n        {\r\n            KeyboardState.status[key].down = false;\r\n        }\r\n\r\n        // key has been flagged as \"up\" since last update\r\n        if ( KeyboardState.status[key].up )\r\n        {\r\n            delete KeyboardState.status[key];\r\n            continue; // move on to next key\r\n        }\r\n\r\n        if ( !KeyboardState.status[key].pressed ) // key released\r\n            KeyboardState.status[key].up = true;\r\n    }\r\n}\r\n\r\nKeyboardState.prototype.down = function(keyName)\r\n{\r\n    return (KeyboardState.status[keyName] && KeyboardState.status[keyName].down);\r\n}\r\n\r\nKeyboardState.prototype.pressed = function(keyName)\r\n{\r\n    return (KeyboardState.status[keyName] && KeyboardState.status[keyName].pressed);\r\n}\r\n\r\nKeyboardState.prototype.up = function(keyName)\r\n{\r\n    return (KeyboardState.status[keyName] && KeyboardState.status[keyName].up);\r\n}\r\n\r\nKeyboardState.prototype.debug = function()\r\n{\r\n    var list = \"Keys active: \";\r\n    for (var arg in KeyboardState.status)\r\n        list += \" \" + arg\r\n    console.log(list);\r\n}\r\n\r\nexport default KeyboardState\r\n\r\n///////////////////////////////////////////////////////////////////////////////","import * as THREE from 'three'\r\nvar THREE_Text = /******/ function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p=\"\",e(0)}([function(t,e,i){\"use strict\";var s=i(1);e.SpriteText2D=s.SpriteText2D;var n=i(6);e.MeshText2D=n.MeshText2D;var r=i(4);e.textAlign=r.textAlign},function(t,e,i){\"use strict\";var s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(2),r=i(3),h=function(t){function e(){t.apply(this,arguments)}return s(e,t),e.prototype.raycast=function(){return this.sprite.raycast.apply(this.sprite,arguments)},e.prototype.updateText=function(){this.canvas.drawText(this._text,{font:this._font,fillStyle:this._fillStyle}),this.cleanUp(),this.texture=new n.Texture(this.canvas.canvas),this.texture.needsUpdate=!0,this.applyAntiAlias(),this.material?this.material.map=this.texture:this.material=new n.SpriteMaterial({map:this.texture}),this.sprite||(this.sprite=new n.Sprite(this.material),this.geometry=this.sprite.geometry,this.add(this.sprite)),this.sprite.scale.set(this.canvas.width,this.canvas.height,1),this.sprite.position.x=this.canvas.width/2-this.canvas.textWidth/2+this.canvas.textWidth/2*this.align.x,this.sprite.position.y=-this.canvas.height/2+this.canvas.textHeight/2*this.align.y},e}(r.Text2D);e.SpriteText2D=h},function(t,e){t.exports=THREE},function(t,e,i){\"use strict\";var s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(2),r=i(4),h=i(5),a=function(t){function e(e,i){void 0===e&&(e=\"\"),void 0===i&&(i={}),t.call(this),this._font=i.font||\"30px Arial\",this._fillStyle=i.fillStyle||\"#FFFFFF\",this.canvas=new h.CanvasText,this.align=i.align||r.textAlign.center,this.side=i.side||n.DoubleSide,this.antialias=\"undefined\"==typeof i.antialias||i.antialias,this.text=e}return s(e,t),Object.defineProperty(e.prototype,\"width\",{get:function(){return this.canvas.textWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"height\",{get:function(){return this.canvas.textHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"text\",{get:function(){return this._text},set:function(t){this._text!==t&&(this._text=t,this.updateText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"font\",{get:function(){return this._font},set:function(t){this._font!==t&&(this._font=t,this.updateText())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"fillStyle\",{get:function(){return this._fillStyle},set:function(t){this._fillStyle!==t&&(this._fillStyle=t,this.updateText())},enumerable:!0,configurable:!0}),e.prototype.cleanUp=function(){this.texture&&this.texture.dispose()},e.prototype.applyAntiAlias=function(){this.antialias===!1&&(this.texture.magFilter=n.NearestFilter,this.texture.minFilter=n.LinearMipMapLinearFilter)},e}(n.Object3D);e.Text2D=a},function(t,e,i){\"use strict\";function s(t){var e=r[t];if(!e){var i=document.getElementsByTagName(\"body\")[0],s=document.createElement(\"div\"),n=document.createTextNode(\"MEq\");s.appendChild(n),s.setAttribute(\"style\",\"font:\"+t+\";position:absolute;top:0;left:0\"),i.appendChild(s),e=s.offsetHeight,r[t]=e,i.removeChild(s)}return e}var n=i(2);e.textAlign={center:new n.Vector2(0,0),left:new n.Vector2(1,0),topLeft:new n.Vector2(1,(-1)),topRight:new n.Vector2((-1),(-1)),right:new n.Vector2((-1),0),bottomLeft:new n.Vector2(1,1),bottomRight:new n.Vector2((-1),1)};var r={};e.getFontHeight=s},function(t,e,i){\"use strict\";var s=i(2),n=i(4),r=function(){function t(){this.textWidth=null,this.textHeight=null,this.canvas=document.createElement(\"canvas\"),this.ctx=this.canvas.getContext(\"2d\")}return Object.defineProperty(t.prototype,\"width\",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"height\",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),t.prototype.drawText=function(t,e){return this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.font=e.font,this.textWidth=Math.ceil(this.ctx.measureText(t).width),this.textHeight=n.getFontHeight(this.ctx.font),this.canvas.width=s.Math.ceilPowerOfTwo(this.textWidth),this.canvas.height=s.Math.ceilPowerOfTwo(this.textHeight),this.ctx.font=e.font,this.ctx.fillStyle=e.fillStyle,this.ctx.textAlign=\"left\",this.ctx.textBaseline=\"top\",this.ctx.fillText(t,0,0),this.canvas},t}();e.CanvasText=r},function(t,e,i){\"use strict\";var s=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(2),r=i(3),h=function(t){function e(e,i){void 0===e&&(e=\"\"),void 0===i&&(i={}),t.call(this,e,i)}return s(e,t),e.prototype.raycast=function(){this.mesh.raycast.apply(this.mesh,arguments)},e.prototype.updateText=function(){this.cleanUp(),this.canvas.drawText(this._text,{font:this._font,fillStyle:this._fillStyle}),this.texture=new n.Texture(this.canvas.canvas),this.texture.needsUpdate=!0,this.applyAntiAlias(),this.material?this.material.map=this.texture:(this.material=new n.MeshBasicMaterial({map:this.texture,side:this.side}),this.material.transparent=!0),this.mesh||(this.geometry=new n.PlaneGeometry(this.canvas.width,this.canvas.height),this.mesh=new n.Mesh(this.geometry,this.material),this.add(this.mesh)),this.mesh.position.x=this.canvas.width/2-this.canvas.textWidth/2+this.canvas.textWidth/2*this.align.x,this.mesh.position.y=-this.canvas.height/2+this.canvas.textHeight/2*this.align.y,this.geometry.vertices[0].x=this.geometry.vertices[2].x=-this.canvas.width/2,this.geometry.vertices[1].x=this.geometry.vertices[3].x=this.canvas.width/2,this.geometry.vertices[0].y=this.geometry.vertices[1].y=this.canvas.height/2,this.geometry.vertices[2].y=this.geometry.vertices[3].y=-this.canvas.height/2,this.geometry.verticesNeedUpdate=!0},e}(r.Text2D);e.MeshText2D=h}]);\r\n\r\nexport default THREE_Text;","class AnimateKey{\r\n\tconstructor(){\r\n    \tthis.start = null;\r\n        this.end = null;\r\n    }\r\n    \r\n    update(){\r\n    \tlet move = this.end.clone().sub(this.start).multiplyScalar(0.08);\r\n       \tmove = this.start.clone().add(move);\r\n        \r\n        return move;\r\n    }\r\n}\r\n\r\nexport default AnimateKey","import {scene} from './initScene.js'\r\nimport * as THREE from 'three'\r\nimport THREE_Text from './text2D.js'\r\nimport AnimateKey from './AnimateKey.js'\r\n\r\nclass Car{\r\n    constructor(maze,model,textName = null,startCell = 0,camera = null){\r\n        this.nowCell = startCell;\r\n        this.width = 10;\r\n        this.model = model\r\n\r\n        this.textName = textName;\r\n        this.text = null;\r\n        this.body = this.buildBody(model,textName);\r\n        this.maze = maze;\r\n        this.rot = -Math.PI / 4;\r\n        this.speed = 0;\r\n        this.camera = camera;\r\n        this.animateKey = new AnimateKey();\r\n        this.cameraLookPoint = new THREE.Object3D();\r\n        this.cameraLookPoint.position.set(50,10,0);\r\n        this.body.add(this.cameraLookPoint);\r\n        this.state = {\r\n            \"stateName\" : \"Normal\",\r\n            \"keepTime\" : Infinity\r\n        };\r\n        //this.cameraLookPoint.add(new THREE.AxesHelper(30));\r\n        //scene.add(this.cameraLookPoint);\r\n\r\n        if(camera){\r\n            camera.position.set(-80,70,0);\r\n            camera.lookAt(this.cameraLookPoint.getWorldPosition(new THREE.Vector3()));\r\n            this.body.add(camera);\r\n        }\r\n        \r\n        this.body.position.copy(this.maze.getNodeToPos(startCell));\r\n\r\n        scene.add(this.body);\r\n    }\r\n\r\n    changeText(text){\r\n        this.body.remove(this.text);\r\n        scene.remove(this.text);\r\n\r\n        this.text = new THREE_Text.SpriteText2D(\"  \" + text,{\r\n            align: THREE_Text.textAlign.center,\r\n            font: '40px Arial',\r\n            fillStyle: '#ff0000',\r\n            antialias: true\r\n        });\r\n\r\n        this.text.position.set(0,60,0);\r\n        this.text.scale.set(0.5,0.5,0.5);\r\n        scene.add(this.text);\r\n        this.body.add(this.text);\r\n    }\r\n\r\n    buildBody(model,textName){\r\n        let body = new THREE.Object3D();\r\n        let mat = new THREE.TextureLoader().load('./texture/soft_shadow.png');\r\n\r\n        let shadow = new THREE.Mesh(new THREE.PlaneGeometry(15.5,15.5),new THREE.MeshBasicMaterial({\r\n            map: mat,\r\n            transparent: true,\r\n        }));\r\n\r\n        shadow.rotation.x = -Math.PI / 2;\r\n        shadow.position.y = 3;\r\n        \r\n        \r\n\r\n        body.add(model.body);\r\n        body.add(shadow);\r\n\r\n        if(this.model.actions['Running'] !== undefined){\r\n            this.activeAction = this.model.actions['Running'];\r\n            model.body.scale.set(5,5,5);\r\n            model.body.rotation.y = Math.PI / 2;\r\n        }\r\n        else {\r\n            this.activeAction = this.model.actions['Run'];\r\n            model.body.scale.set(25,25,25);\r\n            model.body.rotation.y = -Math.PI / 2;\r\n        }\r\n        this.activeAction.play();\r\n\r\n        \r\n\r\n        if(textName !== null){\r\n            this.text = new THREE_Text.SpriteText2D(\"  \" + textName,{\r\n                align: THREE_Text.textAlign.center,\r\n                font: '40px Arial',\r\n                fillStyle: '#ff0000',\r\n                antialias: true\r\n            });\r\n\r\n            this.text.position.set(0,60,0);\r\n            this.text.scale.set(0.5,0.5,0.5);\r\n            body.add(this.text);\r\n        }\r\n\r\n        body.traverse(function(e){\r\n            if(e instanceof THREE.Mesh)\r\n                e.castShadow = e.receiveShadow = true;\r\n        });\r\n\r\n        return body;\r\n    }\r\n\r\n    update(dt,keyboard,pickables){\r\n        this.model.mixer.update(dt);\r\n        if(this.state.stateName === \"Normal\")\r\n            this.normalUpdate(keyboard,pickables);\r\n        else if(this.state.stateName === \"Dead\"){\r\n            if(this.state.keepTime < 0){        //0\r\n                this.state.stateName = \"Normal\";    \r\n                this.state.keepTime = Infinity;\r\n            }\r\n            else if(this.state.keepTime < 1){       // 0~1\r\n                this.fadeToAction(\"Idle\",1.0);\r\n                this.state.keepTime -= dt;\r\n            }\r\n            else {      // >= 1\r\n                this.fadeToAction(\"Death\",0.5);\r\n                this.state.keepTime -= dt;\r\n            }\r\n        }\r\n    }\r\n\r\n    normalUpdate(keyboard,pickables){\r\n        var nextPos = this.body.position.clone();\r\n        let action = \"Idle\";\r\n\r\n        if(keyboard.pressed('D')){\r\n            this.rot -= 0.06;\r\n            action = \"Walking\";\r\n        }\r\n        if(keyboard.pressed('A')){\r\n            this.rot += 0.06;\r\n            action = \"Walking\";\r\n        }\r\n        if(keyboard.pressed('W')){\r\n            nextPos = this.body.position.clone().add(new THREE.Vector3(2,0,0).applyAxisAngle(new THREE.Vector3(0,1,0), this.rot));\r\n            action = \"Running\";\r\n        }\r\n        if(keyboard.pressed('S')){\r\n            nextPos = this.body.position.clone().add(new THREE.Vector3(-2,0,0).applyAxisAngle(new THREE.Vector3(0,1,0), this.rot));\r\n            action = \"Running\";\r\n        }\r\n\r\n        if(this.model !== null){\r\n            this.fadeToAction(action,0.15)\r\n        }\r\n\r\n        this.body.rotation.y = this.rot;\r\n        \r\n        if(this.checkNextPos(nextPos)){\r\n            this.body.position.copy(nextPos);\r\n\r\n            let j = Math.floor(nextPos.x / this.maze.width);\r\n            let i = Math.floor(nextPos.z / this.maze.width);\r\n            this.nowCell = i * this.maze.n + j;\r\n        }\r\n\r\n        if(this.camera){\r\n            this.animateKey.start = this.camera.position.clone();\r\n            this.camera.position.set(-80,70,0);\r\n\r\n            let rayCaster = new THREE.Raycaster(this.camera.getWorldPosition(new THREE.Vector3()),\r\n                this.body.position.clone().sub(this.camera.getWorldPosition(new THREE.Vector3())).normalize());\r\n            rayCaster.far = this.camera.position.length();\r\n            var intersects = rayCaster.intersectObjects(pickables);\r\n\r\n            let cameraIntPos = new THREE.Vector3(-80,70,0);\r\n            if(intersects.length > 0){\r\n                cameraIntPos.sub(new THREE.Vector3(-80,70,0).normalize().multiplyScalar(intersects[intersects.length - 1].distance));\r\n                let x = cameraIntPos.x;\r\n                let z = cameraIntPos.z;\r\n                let len = new THREE.Vector3(-80,70,0).length()\r\n                \r\n                cameraIntPos.y = Math.sqrt(len * len - (x * x + z * z));\r\n            }\r\n            this.animateKey.end = cameraIntPos;\r\n            this.camera.position.copy(this.animateKey.update());\r\n            this.camera.lookAt(this.cameraLookPoint.getWorldPosition(new THREE.Vector3()));\r\n        }\r\n    }\r\n\r\n    fadeToAction(name,duration){\r\n        if(this.previousAction == this.model.actions[name])\r\n            return;\r\n\r\n        this.previousAction = this.activeAction;\r\n        this.activeAction = this.model.actions[ name ];\r\n        this.previousAction.fadeOut( duration );\r\n\r\n        this.activeAction\r\n            .reset()\r\n            .setEffectiveTimeScale( 1 )\r\n            .setEffectiveWeight( 1 )\r\n            .fadeIn( duration )\r\n            .play();\r\n    }\r\n\r\n    checkNextPos(nextPos){\r\n        let mazeWidth = this.maze.width * this.maze.n;\r\n        let mazeDepth = this.maze.width * this.maze.m;\r\n        if(nextPos.x >= 0 + this.width && nextPos.z >= 0 + this.width && nextPos.x <= mazeWidth - this.width && nextPos.z <= mazeDepth - this.width){\r\n            let dir = [[1,0],[0,1],[-1,0],[0,-1]];\r\n            let t = 0;\r\n\r\n            for(let k = 0; k < 4; k++){\r\n                let j = Math.floor((nextPos.x + dir[k][0] * this.width) / this.maze.width);\r\n                let i = Math.floor((nextPos.z + dir[k][1] * this.width) / this.maze.width);\r\n\r\n                let nextCell = i * this.maze.n + j;\r\n                \r\n\r\n                if(Math.abs(nextCell - this.nowCell) <= 1 || Math.abs(nextCell - this.nowCell) % this.maze.n === 0){\r\n                    if(nextCell !== this.nowCell && !this.maze.check(nextCell,this.nowCell)){\r\n                        console.log(nextCell + ' ' + this.nowCell);\r\n                        return false;\r\n                    }\r\n                }               \r\n            }\r\n            \r\n            \r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nexport default Car;","import * as THREE from 'three'\r\nimport myPlaneTimeVertex from './GLSL/myPlaneTimeVertex.glsl'\r\nimport myPlaneTimeFragment from './GLSL/myPlaneTimeFragment.glsl'\r\nimport myMinimapVertex from './GLSL/myMinimapVertex.glsl'\r\nimport myMinimapFragment from './GLSL/myMinimapFragment.glsl'\r\n\r\nclass HUD{\r\n    constructor(mazeTotalWidth,gameTime) {\r\n        this.centerMaxSize = 1000;\r\n        this.centerSet = new Array(this.centerMaxSize);\r\n        this.centerSet3 = new Array(this.centerMaxSize);\r\n\r\n        this.nowCenterSet = 0;\r\n        for(let i = 0; i < this.centerMaxSize; i++){\r\n            this.centerSet[i] = new THREE.Vector2();\r\n            this.centerSet3[i] = new THREE.Vector3();\r\n        }\r\n\r\n        this.initHUD(mazeTotalWidth);\r\n        this.initScrene();\r\n        this.gameTime = gameTime;\r\n        this.time = gameTime;\r\n        this.alertTime = gameTime * 0.1;\r\n\r\n        //target.add(this.cameraHUD2);\r\n    }\r\n\r\n    initHUD(mazeTotalWidth){\r\n        mazeTotalWidth /= 2;\r\n        let windowWidth = window.innerWidth;\r\n        let windowHeight = window.innerHeight;\r\n\r\n        this.sceneHUD = new THREE.Scene();\r\n        this.initSceneHUD(windowWidth,windowHeight);\r\n\r\n        this.cameraHUD1 = new THREE.OrthographicCamera(-windowWidth / 2,windowWidth / 2,windowHeight / 2,-windowHeight / 2,1,50);\r\n        this.cameraHUD2 = new THREE.OrthographicCamera(-windowWidth / 6, windowWidth / 6, windowHeight / 6, -windowHeight / 6, -50, 350);\r\n        this.cameraHUD3 = new THREE.OrthographicCamera(-mazeTotalWidth, mazeTotalWidth, mazeTotalWidth, -mazeTotalWidth, -50, 350);\r\n\r\n        this.cameraHUD2.position.set(mazeTotalWidth,15,mazeTotalWidth);\r\n        this.cameraHUD2.up.set(1,0,0);\r\n        this.cameraHUD2.lookAt(new THREE.Vector3(mazeTotalWidth,0,mazeTotalWidth));\r\n        this.cameraHUD1.position.set(0,0,10);\r\n\r\n        this.cameraHUD3.up.set(1,0,0);\r\n        this.cameraHUD3.position.set(mazeTotalWidth,15,mazeTotalWidth);\r\n        this.cameraHUD3.lookAt(new THREE.Vector3(mazeTotalWidth,0,mazeTotalWidth));\r\n\r\n        /*var box = new THREE.Mesh(new THREE.BoxGeometry(500,500,5), new THREE.MeshNormalMaterial());\r\n        this.sceneHUD.add(box);*/\r\n\r\n        let width = window.innerWidth / 2;\r\n        let height = window.innerHeight / 2;\r\n\r\n        this.sceneMinimapHUD = new THREE.Scene();\r\n        this.cameraMinimapHUD = new THREE.OrthographicCamera(-width - 0.5,width + 0.5,height + 0.5,-height - 0.5,1,10);\r\n        this.cameraMinimapHUD.position.z = 5;\r\n\r\n        let lineGeo = new THREE.Geometry();\r\n        lineGeo.vertices.push(\r\n            new THREE.Vector3(-width, -height, 0),\r\n            new THREE.Vector3(width, -height, 0),\r\n            new THREE.Vector3(width, height, 0),\r\n            new THREE.Vector3(-width, height, 0),\r\n            new THREE.Vector3(-width, -height, 0)\r\n        );\r\n        let line = new THREE.Line(lineGeo,\r\n            new THREE.LineBasicMaterial({\r\n                color: 0xffffff\r\n            })\r\n        );\r\n\r\n        this.sceneMinimapHUD.add(line);\r\n    }\r\n\r\n    initSceneHUD(width,height){\r\n        let loader = new THREE.TextureLoader();\r\n        var texture = loader.load('./texture/bomb.png');\r\n\r\n        let plane = new THREE.Mesh(new THREE.PlaneGeometry(80,80), new THREE.MeshBasicMaterial({\r\n            transparent: true,\r\n            map: texture\r\n        }))\r\n        plane.position.set(-width / 32 * 15,-height / 16 * 7,0);\r\n        this.sceneHUD.add(plane);\r\n\r\n        this.planeTimeMat = new THREE.ShaderMaterial({\r\n            uniforms: {\r\n              'color': {\r\n                type: 'v3',\r\n                value: new THREE.Vector3(0, 1, 0)\r\n              },\r\n              'pos': {\r\n                type: 'f',\r\n                value: -(width / 4 - 70)\r\n              }\r\n            },\r\n            vertexShader: myPlaneTimeVertex,\r\n            fragmentShader: myPlaneTimeFragment\r\n        });\r\n\r\n        let timePlane = new THREE.Mesh(new THREE.PlaneGeometry((width / 4 - 70) * 2, 40), \r\n                this.planeTimeMat);\r\n        timePlane.position.set(-width / 32 * 8,-height / 16 * 7,0);\r\n        this.sceneHUD.add(timePlane);\r\n    }\r\n\r\n    initScrene(){\r\n        this.sceneScrene = new THREE.Scene();\r\n        this.cameraScrene = new THREE.OrthographicCamera(-150,150,150,-150,-10,10);\r\n        this.rtTexture = new THREE.WebGLRenderTarget( \r\n            window.innerWidth * 0.3, window.innerHeight * 0.3, \r\n            { minFilter: THREE.LinearFilter, magFilter: THREE.NearestFilter, format: THREE.RGBFormat } \r\n        );\r\n\r\n        this.rttmaterial = new THREE.ShaderMaterial( {\r\n            uniforms: {\r\n                minRange: {type: \"f\", value: 30},\r\n                maxRange: {type: \"f\", value: 125},\r\n                texture: {type: \"t\", value: this.rtTexture},\r\n                center: {type: \"v2v\", value: this.centerSet}\r\n            },\r\n            vertexShader: myMinimapVertex,\r\n            fragmentShader: '#define CENTER_MAX  ' + this.centerMaxSize + '\\n' + myMinimapFragment} \r\n        );\r\n        var plane = new THREE.PlaneBufferGeometry( 300,300 );  // width, height\r\n        var quad = new THREE.Mesh (plane, this.rttmaterial);\r\n        this.sceneScrene.add (quad);\r\n\r\n        //this.centerSet[0] = new THREE.Vector2(1200,50);\r\n        //this.centerSet[1] = new THREE.Vector2(1300,50);\r\n        \r\n    }\r\n\r\n    updateTime(dt){\r\n        this.time -= dt;\r\n        this.planeTimeMat.uniforms.pos.value = (window.innerWidth / 4 - 70) + -((window.innerWidth / 4 - 70) * 2) * (this.gameTime - this.time) / this.gameTime;\r\n\r\n        if(this.time < this.alertTime)\r\n            this.planeTimeMat.uniforms.color.value.set(1,0,0);\r\n        else \r\n            this.planeTimeMat.uniforms.color.value.set(0,1,0);\r\n    }\r\n\r\n    updateMiniMapPos(playPosX,playPosZ,rot){\r\n        this.cameraHUD2.position.set(playPosX,15,playPosZ);\r\n        this.cameraHUD2.rotation.z = rot + Math.PI / 2 * 3;\r\n\r\n        //console.log(playPosX + ' ' + 15 + ' ' + playPosZ);\r\n    }\r\n\r\n    updateCenter(playPosX,playPosZ,rot,maze,openBigMap){\r\n        let playXPercent = 0.5;\r\n        let playYPercent = 0.5;\r\n        let playMiniMapX;\r\n        let playMiniMapY;\r\n\r\n        this.centerSet3[this.nowCenterSet].set(playPosX,0,playPosZ);\r\n\r\n        for(let i = 0; i < this.centerMaxSize; i++){\r\n            let prePos = this.centerSet3[i].clone();\r\n            let nowPos = new THREE.Vector3(playPosX,0,playPosZ);\r\n\r\n            if(openBigMap){\r\n                let t = prePos.sub(new THREE.Vector3(maze.n * maze.width / 2,0,maze.m * maze.width / 2))\r\n                playXPercent = t.z / (maze.n * maze.width) + 0.5;\r\n                playYPercent = t.x / (maze.m * maze.width) + 0.5;\r\n                \r\n                playMiniMapX = window.innerHeight * playXPercent + (window.innerWidth - window.innerHeight) * 0.5;\r\n                playMiniMapY = window.innerHeight * playYPercent;\r\n\r\n                this.rttmaterial.uniforms.minRange.value = 20.0;\r\n                this.rttmaterial.uniforms.maxRange.value = 100.0;\r\n            }\r\n            else {\r\n                let t = prePos.clone().sub(nowPos).applyAxisAngle(new THREE.Vector3(0,1,0),-rot);\r\n            \r\n                playXPercent = t.z / (window.innerWidth / 3) + 0.5;\r\n                playYPercent = t.x / (window.innerHeight / 3) + 0.5;\r\n                \r\n                playMiniMapX = window.innerWidth * 0.3 * playXPercent + window.innerWidth * 0.7;\r\n                playMiniMapY = window.innerHeight * 0.3 * playYPercent;\r\n\r\n                this.rttmaterial.uniforms.minRange.value = 30.0;\r\n                this.rttmaterial.uniforms.maxRange.value = 125.0;\r\n            } \r\n\r\n            this.rttmaterial.uniforms.center.value[i].copy(new THREE.Vector2(playMiniMapX,playMiniMapY));\r\n        }\r\n        \r\n        this.nowCenterSet++;\r\n        this.nowCenterSet %= this.centerMaxSize;\r\n    }\r\n}\r\n\r\nexport default HUD","export default \"varying vec4 myeyepos;\\r\\nvoid main() { \\r\\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\r\\n    myeyepos = vec4(position,1.0);\\r\\n}\\r\\n\\r\\n\";","export default \"varying vec4 myeyepos;\\r\\nuniform float pos;\\r\\nuniform vec3 color;\\r\\nvoid main() { \\r\\n    vec4 mycolor;\\r\\n    if(myeyepos.x < pos)\\r\\n    mycolor = vec4(color,1);\\r\\n    else\\r\\n    mycolor = vec4(0.0, 0.0, 0.0, 0.0);\\r\\n    \\r\\n    gl_FragColor = mycolor; \\r\\n}\";","export default \"varying vec2 vUv;\\r\\nvoid main() {\\r\\n    gl_Position = projectionMatrix* modelViewMatrix * vec4( position, 1.0);\\r\\n    vUv = uv;\\r\\n}\";","import * as THREE from 'three'\r\nimport OrbitControls from 'three-orbitcontrols'\r\nimport {scene, initScene} from './initScene.js'\r\nimport {Maze} from './Maze.js'\r\nimport KeyboardState from './keyboard.js'\r\nimport Car from './Car.js'\r\nimport HUD from './HUD.js'\r\nimport NPC from './NPC.js'\r\nimport Stats from 'stats-js'\r\nimport THREE_Text from './text2D.js'\r\nimport $ from 'jquery'\r\nimport GLTFLoader from 'three-gltf-loader'\r\n\r\nvar robotModel = {};\r\nvar enemyModel;\r\n\r\n\r\nvar canStart = 0;\r\nvar camera, renderer, stats, clock, maze, hud, stats = new Stats();\r\nvar exit, gameState = \"Init\", text;\r\nvar systemTime = 0.0, angle = 0.0;\r\nvar raycaster = new THREE.Raycaster(), mouse = new THREE.Vector2(),pickables = [];\r\nvar car, npcs = [], npcEx;\r\nvar keyboard = new KeyboardState();\r\nvar mazeWidth = 70, mazeSize = 15, cameraFar = 1500; // 550\r\nvar FinalLine;\r\nvar light;\r\nvar openBigMap = false;\r\nvar removeWall = [];\r\nvar isremoveWall = 2;\r\nvar gameTime = 120;\r\n\r\n$(\"#StartGame\").click(function(e){\r\n    if(canStart == 1){\r\n        initGame();\r\n        gameState = \"Game\";\r\n    }\r\n});\r\n\r\n$('#info').click(function(e){\r\n    clock.stop();\r\n    alert(\"使用方向鍵WASD可以控制機器人\\n使用\\\"M\\\"可以打開大地圖\\n可以藉由滑鼠點擊牆壁一次來移除牆，但只有兩次喔\\n\\n小心別被NPC抓到，不然會暫時倒地一陣子\\n\\n找到出口旗幟並走到吧，加油！！！\");\r\n    clock.start();\r\n});\r\n\r\n$('#BackGame').click(function(e){\r\n    initStart();\r\n    gameState = \"Init\";\r\n});\r\n\r\nwindow.addEventListener('resize', onWindowResize, false);\r\ndocument.addEventListener('mousedown',onMouseDown,false);\r\n\r\nlet loaderInit = [];\r\n\r\nloaderInit.push(new Promise(function(resolve,reject){\r\n    var loader = new GLTFLoader();\r\n    loader.load('./model/RobotExpressive.glb', (gltf) => {\r\n        console.log('load complete');\r\n        resolve(gltf);\r\n    }, (xhr) => {\r\n        console.log((xhr.loaded / xhr.total * 100) + '% loaded');\r\n    }, (error) => {\r\n        reject(error);\r\n    });\r\n}));\r\n\r\nfor(let i = 0; i < 5; i++){\r\n    loaderInit.push(new Promise(function(resolve,reject){\r\n        var loader = new GLTFLoader();\r\n        loader.load('./model/Soldier.glb', (gltf) => {\r\n            console.log('load complete');\r\n            resolve(gltf);\r\n        }, (xhr) => {\r\n            console.log((xhr.loaded / xhr.total * 100) + '% loaded');\r\n        }, (error) => {\r\n            reject(error);\r\n        });\r\n    }));\r\n}\r\n\r\nfunction initRobot(robot){\r\n    robotModel.body = robot.scene;\r\n\r\n    robotModel.actions = {};\r\n    robotModel.mixer = new THREE.AnimationMixer(robot.scene);\r\n\r\n    robotModel.states = [ 'Idle', 'Walking', 'Running', 'Dance', 'Death', 'Sitting', 'Standing' ];\r\n    robotModel.emotes = [ 'Jump', 'Yes', 'No', 'Wave', 'Punch', 'ThumbsUp' ];\r\n\r\n    for(let i = 0; i < robot.animations.length; i++){\r\n        let clip = robot.animations[i];\r\n        let action = robotModel.mixer.clipAction(clip);\r\n        robotModel.actions[clip.name] =  action;\r\n\r\n        if(robotModel.emotes.indexOf(clip.name) >= 0 || robotModel.states.indexOf(clip.name) >= 4){\r\n            action.clampWhenFinished = true;\r\n            action.loop = THREE.LoopOnce;\r\n        }\r\n    }\r\n}\r\n\r\nfunction initEnemy(res){\r\n    enemyModel = new Array(res.length);\r\n\r\n    for(let i = 0; i < res.length; i++){\r\n        enemyModel[i] = {};\r\n        enemyModel[i].body = res[i].scene;\r\n        enemyModel[i].actions = {};\r\n\r\n        enemyModel[i].mixer = new THREE.AnimationMixer(res[i].scene);\r\n        enemyModel[i].states = [ 'Idle', 'Run', 'TPose', 'Walk'];\r\n\r\n        for(let j = 0; j < res[i].animations.length; j++){\r\n            let clip = res[i].animations[j];\r\n            let action = enemyModel[i].mixer.clipAction(clip);\r\n            enemyModel[i].actions[clip.name] = action;\r\n        }\r\n    }\r\n}\r\n\r\nPromise.all(loaderInit).then(function(res){\r\n    console.log(res);\r\n    canStart = 1;\r\n    initRobot(res[0]);\r\n    res.shift();\r\n\r\n    initEnemy(res);\r\n\r\n    init();\r\n    mainAnimate();\r\n});\r\n\r\n\r\n/*\r\nloaderInit.then(function(robot){\r\n    \r\n\r\n    init();\r\n    mainAnimate();\r\n})*/\r\n\r\nfunction onunloadEvent(){\r\n    console.log('x');\r\n}\r\n\r\nfunction init() {\r\n    initScene();\r\n    scene.background = new THREE.Color( 0x222222 );\r\n\r\n    document.addEventListener('offline',onunloadEvent,false);\r\n\r\n    stats.domElement.style.position = 'absolute';\r\n    stats.domElement.style.top = '0px';\r\n    stats.domElement.style.zIndex = 100;\r\n    document.body.appendChild(stats.domElement);\r\n\t\r\n    clock = new THREE.Clock();\r\n\r\n    camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 10, cameraFar);\r\n    camera.position.set(mazeSize * mazeWidth / 2,500,mazeSize * mazeWidth / 2);\r\n    camera.lookAt(new THREE.Vector3());\r\n    scene.add(camera);\r\n\r\n\r\n    renderer = new THREE.WebGLRenderer({antialias: true});\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.setClearColor(0x888888);\r\n    renderer.autoClear = false;\r\n\r\n    document.body.appendChild(renderer.domElement);\r\n    \r\n    maze = new Maze(mazeSize,mazeSize,mazeWidth,5,50);\r\n\r\n    light = new THREE.DirectionalLight(0xaaaaaa);\r\n    light.position.set((mazeWidth * mazeSize / 2 + 50),200,(mazeWidth * mazeSize / 2 + 50));\r\n    light.target.position.set((mazeWidth * mazeSize / 2),0,(mazeWidth * mazeSize / 2));\r\n    scene.add(light.target);\r\n    scene.add(light,new THREE.AmbientLight(0x444444));\r\n\r\n    let loader = new THREE.TextureLoader();\r\n    loader.crossOrigin = '';\r\n    loader.load(\r\n        './texture/road/418-418.jpg',\r\n        function(texture){\r\n            texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n            texture.repeat.set(mazeSize,mazeSize);\r\n            let plane = new THREE.Mesh(new THREE.PlaneGeometry(mazeWidth * mazeSize,mazeWidth * mazeSize), new THREE.MeshPhongMaterial({map: texture}))\r\n            plane.rotation.x = -Math.PI / 2;\r\n            plane.position.set(mazeWidth * mazeSize / 2,0,mazeWidth * mazeSize / 2);\r\n\r\n            plane.receiveShadow = true;\r\n            scene.add(plane);\r\n        },undefined,function(xhr) {console.log('error loader texture');}\r\n    );\r\n\r\n    //let nextPos = Math.floor(Math.floor(Math.random() * mazeSize) * mazeSize);\r\n    let nextPos = mazeSize * mazeSize - 1;\r\n    npcEx = new NPC(maze,robotModel,'',5,0,nextPos,camera);\r\n    npcEx.speed = 120;\r\n\r\n    let mat = loader.load('./texture/FinalLine.png');\r\n\r\n    FinalLine = new THREE.Mesh(new THREE.PlaneGeometry(50,50), new THREE.MeshBasicMaterial({\r\n        map: mat,\r\n        transparent: true,\r\n        side: THREE.DoubleSide\r\n    }));\r\n    exit = nextPos;\r\n    FinalLine.position.copy(maze.getNodeToPos(exit));\r\n    FinalLine.position.y = 5;\r\n    FinalLine.rotation.x = -Math.PI / 2;\r\n\r\n    scene.add(FinalLine);\r\n\r\n\r\n    scene.fog = new THREE.Fog( 0x222222, 550 - 50, 550 );\r\n}\r\n\r\nfunction initStart(){\r\n    document.getElementById(\"EndGame\").style.display = \"none\";\r\n    document.getElementById(\"InitGame\").style.display = \"inline\";\r\n\r\n    pickables = [];\r\n\r\n    car.body.remove(camera);\r\n    camera.position.set(mazeSize * mazeWidth / 2,150,mazeSize * mazeWidth / 2);\r\n    camera.lookAt(new THREE.Vector3());\r\n    scene.add(camera);\r\n\r\n    maze.wall.forEach(function(e){\r\n        scene.remove(e);\r\n    });\r\n\r\n    scene.remove(car.body);\r\n    npcs.forEach(function(e){\r\n        scene.remove(e.body);\r\n    });\r\n    npcs = [];\r\n\r\n    scene.remove(FinalLine);\r\n\r\n    maze = new Maze(mazeSize,mazeSize,mazeWidth,5,50);\r\n    camera.far = 550;\r\n    camera.updateProjectionMatrix();\r\n\r\n\r\n    let nextPos = Math.floor((Math.random() * mazeSize * mazeSize));\r\n    npcEx = new NPC(maze,robotModel,'',3,0,nextPos,camera);\r\n    npcEx.speed = 120;\r\n\r\n    let loader = new THREE.TextureLoader();\r\n    let mat = loader.load('./texture/FinalLine.png');\r\n\r\n    FinalLine = new THREE.Mesh(new THREE.PlaneGeometry(50,50), new THREE.MeshBasicMaterial({\r\n        map: mat,\r\n        transparent: true,\r\n        side: THREE.DoubleSide\r\n    }));\r\n    exit = Math.floor(Math.random() * mazeSize * mazeSize);\r\n    FinalLine.position.copy(maze.getNodeToPos(exit));\r\n    FinalLine.position.y = 5;\r\n    FinalLine.rotation.x = -Math.PI / 2;\r\n\r\n    npcEx.target = exit;\r\n    scene.add(FinalLine);\r\n\r\n\r\n}\r\n\r\nfunction initGame(){\r\n    document.getElementById(\"InitGame\").style.display = \"none\";\r\n    document.getElementById(\"InGame\").style.display = \"inline\";\r\n    systemTime = 0;\r\n    isremoveWall = 2;\r\n\r\n\r\n    camera.far = 550;\r\n    camera.updateProjectionMatrix();\r\n\r\n    maze.wall.forEach(function(e){\r\n        pickables.push(e);\r\n    });\r\n\r\n    car = new Car(maze,robotModel,null,0,camera);\r\n    hud = new HUD(mazeWidth * mazeSize,gameTime);\r\n    ////\r\n    scene.remove(FinalLine);\r\n    scene.remove(npcEx.body);\r\n\r\n    let loader = new THREE.TextureLoader();\r\n    let mat = loader.load('./texture/FinalLine.png');\r\n\r\n    FinalLine = new THREE.Mesh(new THREE.PlaneGeometry(100,200), new THREE.MeshBasicMaterial({\r\n        map: mat,\r\n        transparent: true,\r\n        side: THREE.DoubleSide\r\n    }));\r\n    let where = Math.floor(Math.random() * 2);\r\n    if(where === 0)\r\n        exit = (mazeSize - 1) + (Math.floor(mazeSize * Math.random()) * mazeSize);\r\n    else\r\n        exit = (mazeSize - 1) * mazeSize + Math.floor(mazeSize * Math.random())\r\n\r\n    FinalLine.position.copy(maze.getNodeToPos(exit));\r\n    FinalLine.position.y = 50;\r\n\r\n    scene.add(FinalLine);\r\n\r\n    //// NPC\r\n\r\n    npcs = [];\r\n    npcs.push(\r\n        //new NPC(maze,enemyModel[0],'NPC1',0,Math.floor((Math.random() * mazeSize * mazeSize))),\r\n        //new NPC(maze,enemyModel[1],'NPC2',1,Math.floor((Math.random() * mazeSize * mazeSize))),\r\n        new NPC(maze,enemyModel[0],'NPC1',3,exit,Math.floor((Math.random() * mazeSize * mazeSize))),\r\n        new NPC(maze,enemyModel[1],'NPC2',4,exit,Math.floor((Math.random() * mazeSize * mazeSize))),\r\n        new NPC(maze,enemyModel[2],'NPC3',3,exit,Math.floor((Math.random() * mazeSize * mazeSize))),\r\n        //new NPC(maze,'black','NPC5',5,Math.floor((Math.random() * mazeSize * mazeSize)),Math.floor((Math.random() * mazeSize * mazeSize)))\r\n    );\r\n    \r\n\r\n\r\n    // create skybox\r\n\r\n    //creataSkybox();\r\n}\r\n\r\nfunction creataSkybox(){\r\n    let loader = new THREE.TextureLoader();\r\n    let texture_ft = new THREE.TextureLoader().load('/image/heather_ft.jpg');\r\n    let texture_bk = new THREE.TextureLoader().load('/image/heather_bk.jpg');\r\n    let texture_up = new THREE.TextureLoader().load('/image/heather_up.jpg');\r\n    let texture_dn = new THREE.TextureLoader().load('/image/heather_dn.jpg');\r\n    let texture_rt = new THREE.TextureLoader().load('../image/heather_rt.jpg');\r\n    let texture_lf = new THREE.TextureLoader().load('../image/heather_lf.jpg');\r\n\r\n    let materialArray = [];\r\n    materialArray.push(\r\n        new THREE.MeshBasicMaterial({map: texture_ft}),\r\n        new THREE.MeshBasicMaterial({map: texture_bk}),\r\n        new THREE.MeshBasicMaterial({map: texture_up}),\r\n        new THREE.MeshBasicMaterial({map: texture_dn}),\r\n        new THREE.MeshBasicMaterial({map: texture_rt}),\r\n        new THREE.MeshBasicMaterial({map: texture_lf})\r\n    );\r\n\r\n    materialArray.forEach(function(e){\r\n        e.side = THREE.BackSide;\r\n    })\r\n\r\n    let skyGeo = new THREE.BoxGeometry(2000,2000,2000);\r\n    let skyBox = new THREE.Mesh(skyGeo,materialArray);\r\n\r\n    scene.add(skyBox);\r\n}\r\n\r\nfunction initAnimate(dt){\r\n    npcEx.update(dt);\r\n\r\n    if(npcEx.NPCState === npcEx.NPCStateTable.WaintingTarget){\r\n        scene.remove(FinalLine);\r\n\r\n        let loader = new THREE.TextureLoader();\r\n        let mat = loader.load('./texture/FinalLine.png');\r\n\r\n        FinalLine = new THREE.Mesh(new THREE.PlaneGeometry(50,50), new THREE.MeshBasicMaterial({\r\n            map: mat,\r\n            transparent: true,\r\n            side: THREE.DoubleSide\r\n        }));\r\n        exit = Math.floor(Math.random() * mazeSize * mazeSize);\r\n        FinalLine.position.copy(maze.getNodeToPos(exit));\r\n        FinalLine.position.y = 5;\r\n        FinalLine.rotation.x = -Math.PI / 2;\r\n\r\n        scene.add(FinalLine);\r\n        npcEx.target = exit;\r\n        npcEx.NPCState = npcEx.NPCStateTable.initState;\r\n    }\r\n}\r\n\r\nfunction gameAnimate(dt){\r\n    \r\n    if(gameState === \"Game\")\r\n        systemTime += dt;\r\n\r\n    if(keyboard.up('M'))\r\n        openBigMap = !openBigMap;\r\n\r\n    if(!openBigMap){\r\n        car.update(dt,keyboard,pickables);\r\n\r\n        npcs.forEach(function(e){\r\n            e.update(dt,car.nowCell);\r\n            if(e.NPCState === e.NPCStateTable.WaintingTarget){\r\n                e.target = Math.floor(Math.random() * mazeSize * mazeSize);\r\n                e.NPCState = e.NPCStateTable.initState;\r\n            }\r\n        });\r\n\r\n\r\n        if(car.nowCell === exit){\r\n            gameState = \"End\";\r\n        }\r\n\r\n        npcs.forEach(function(e){\r\n            if(e.catchMode && car.state.stateName === \"Dead\"){\r\n                e.catchMode = false;\r\n                e.NPCState = e.NPCStateTable.WaintingTarget;\r\n                e.changeText(e.textName);\r\n            }\r\n\r\n            if(car.nowCell === e.nowCell && car.state.stateName !== \"Dead\"){\r\n                car.state.stateName = \"Dead\";\r\n                car.state.keepTime = 3;\r\n                e.catchMode = false;\r\n                e.NPCState = e.NPCStateTable.WaintingTarget;\r\n                e.changeText(e.textName);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\nfunction mainAnimate() {\r\n    var dt = clock.getDelta();\r\n\r\n    stats.update();\r\n    keyboard.update();\r\n\r\n    if(gameState === \"Init\"){\r\n        initAnimate(dt);\r\n    }\r\n    else if(gameState === \"Game\"){\r\n        gameAnimate(dt);\r\n        let dir = car.body.getWorldPosition(new THREE.Vector3()).clone().sub(FinalLine.getWorldPosition(new THREE.Vector3()));\r\n        dir.y = 0;\r\n        let angle = Math.atan2(dir.x,dir.z);\r\n        FinalLine.rotation.y = angle;\r\n        //console.log(angle);\r\n\r\n        if(systemTime > gameTime){\r\n            gameState = \"End\";\r\n            openBigMap = false;\r\n        }\r\n    }\r\n    else if(gameState === \"End\"){\r\n        gameAnimate(dt);\r\n\r\n        document.getElementById('InGame').style.display = \"none\";\r\n        document.getElementById('EndGame').style.display = \"inline\";\r\n        document.getElementById('EndInfo').innerHTML = \"遊戲結束！ 花費時間為 \"\r\n            + Math.floor(systemTime / 60) + '分 ' + Math.floor(systemTime % 60) + \"秒\";\r\n    }\r\n\r\n    \r\n\r\n    requestAnimationFrame(mainAnimate);\r\n    render(dt);\r\n}\r\n\r\nfunction render(dt) {\r\n    var WW = window.innerWidth;\r\n    var HH = window.innerHeight;\r\n\r\n    renderer.setScissorTest(true);\r\n    renderer.setViewport(0, 0, WW, HH);\r\n    renderer.setScissor(0, 0, WW, HH);\r\n    renderer.clear();\r\n    renderer.render(scene,camera);\r\n\r\n    //renderer.shadowMap.enabled = false;\r\n    \r\n    if(gameState === \"Game\"){\r\n        renderer.render(hud.sceneHUD,hud.cameraHUD1);\r\n        let playPos = car.body.position.clone();\r\n\r\n        if(removeWall.length > 0){\r\n            let len = removeWall.length;\r\n            for(let i = 0; i < len; ){\r\n                let find = false;\r\n                removeWall[i].position.y -= 0.8;\r\n                if(removeWall[i].position.y < -25){\r\n                    scene.remove(removeWall[i]);\r\n                    maze.removeWall(removeWall[i].mazeData);\r\n                    find = true;\r\n                    len--;\r\n                }\r\n                else i++;\r\n\r\n                if(find)\r\n                    removeWall.shift();\r\n            }\r\n        }\r\n        \r\n        if(!openBigMap){\r\n            renderer.setViewport(WW * 0.7, 0, WW * 0.3, HH * 0.3);\r\n            renderer.setScissor(WW * 0.7, 0, WW * 0.3, HH * 0.3);\r\n            renderer.clear();\r\n            renderer.render(hud.sceneMinimapHUD,hud.cameraMinimapHUD);\r\n            renderer.setRenderTarget(hud.rtTexture);\r\n            renderer.render(scene,hud.cameraHUD2);\r\n\r\n            hud.updateMiniMapPos(playPos.x,playPos.z,car.body.rotation.y);\r\n            hud.updateCenter(playPos.x,playPos.z,car.body.rotation.y,maze,openBigMap);\r\n\r\n            renderer.setRenderTarget(null);\r\n            renderer.render(hud.sceneScrene,hud.cameraScrene);\r\n        }\r\n        else {\r\n           \r\n            renderer.setViewport((WW - HH) * 0.5, 0, HH, HH);\r\n            renderer.setScissor((WW - HH) * 0.5, 0, HH, HH);\r\n            renderer.clear();\r\n            renderer.render(hud.sceneMinimapHUD,hud.cameraMinimapHUD);\r\n            renderer.setRenderTarget(hud.rtTexture);\r\n            renderer.render(scene,hud.cameraHUD3);\r\n\r\n            hud.updateMiniMapPos(playPos.x,playPos.z,car.body.rotation.y);\r\n            hud.updateCenter(playPos.x,playPos.z,car.body.rotation.y,maze,openBigMap);\r\n\r\n            renderer.setRenderTarget(null);\r\n            renderer.render(hud.sceneScrene,hud.cameraScrene);\r\n        }\r\n        \r\n        hud.updateTime(dt);\r\n    }\r\n}\r\n\r\nfunction onMouseDown(e){\r\n    e.preventDefault();\r\n\r\n    mouse.x = (e.clientX / (window.innerWidth)) * 2 - 1;\r\n    mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;\r\n\r\n    raycaster.setFromCamera(mouse, camera);\r\n    var intersects = raycaster.intersectObjects(pickables);\r\n    if(intersects.length > 0){\r\n        console.log(intersects[0]);\r\n        \r\n        \r\n\r\n        if('mazeData' in intersects[0].object){\r\n            if(isremoveWall === 0)return;\r\n            else isremoveWall--;\r\n            \r\n            pickables.splice(pickables.indexOf(intersects[0].object),1);\r\n            removeWall.push(intersects[0].object);\r\n        }\r\n        \r\n    }\r\n\r\n}\r\n\r\nfunction onWindowResize() {\r\n    var width = window.innerWidth;\r\n    var height = window.innerHeight;\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n    renderer.setSize(width, height);\r\n}","import * as THREE from 'three'\r\nimport {scene} from './initScene.js'\r\nimport Car from './Car.js'\r\nimport { throws } from 'assert';\r\n\r\n\r\n// 注意，使用A star時 this.target要從主程式設定\r\nclass NPC extends Car{\r\n    constructor(maze,model,textName,traversMode,startCell, target = 0,camera = null){\r\n        super(maze,model,textName,startCell);\r\n        \r\n        this.NPCStateTable = Object.freeze({\"initState\" : 1,\"findNextPoint\" : 2,\"GoToPoint\" : 3,\"WaintingTarget\" : 4});\r\n        this.NPCState = this.NPCStateTable.initState;\r\n        \r\n        this.isTraverse = new Array(maze.m * maze.n);   // use to random DFS\r\n        this.targetNode = new THREE.Vector3();\r\n        this.target = target;\r\n        this.catchMode = false;\r\n        this.stackPath = [];        // use to random DFS\r\n        this.frontNode = -1;        // use to left traverse\r\n        this.speed = 120;\r\n        this.traversMode = traversMode;\r\n        this.traversModeConst = traversMode;\r\n        this.traversModeTable = Object.freeze({\"left\": 0,\"right\": 1,\"random\": 2,\"Astar_Manhattan\": 3,\r\n            \"Astar_Euclidean\":4,\"Astar_Breaking\":5,\"Astar_Max\":6});\r\n        this.AstarPath = [];\r\n        this.waitingTime = 0;\r\n        this.camera = camera;\r\n\r\n        if(camera){\r\n            camera.position.set(this.body.position.x,400,this.body.position.z);\r\n            camera.lookAt(this.body.getWorldPosition(new THREE.Vector3()));\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    // use random DFS, it can't use to dynamic maze, except init all traversal\r\n    findNextPoint_Random(){\r\n        this.isTraverse[this.nowCell] = true;\r\n\r\n        let node, find = false;\r\n        for(let i = 0; i < this.maze.graph[this.nowCell].length; i++){\r\n            if(this.maze.graph[this.nowCell][i] !== null && !this.isTraverse[this.maze.graph[this.nowCell][i]]){\r\n                this.stackPath.push(this.nowCell);\r\n                node = this.maze.graph[this.nowCell][i];\r\n                find = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(!find && this.stackPath.length == 0){\r\n            return false;\r\n        }\r\n        else if(!find){\r\n            node = this.stackPath[this.stackPath.length - 1]\r\n            this.stackPath.pop();\r\n        }\r\n\r\n        this.target = node;\r\n        this.targetNode.copy(this.maze.getNodeToPos(node));\r\n\r\n        return true;\r\n    }\r\n\r\n    // use Left, it can use to dynamic maze\r\n    findNextPoint_Left(){\r\n        let node;\r\n        \r\n        node = (this.maze.graph[this.nowCell].indexOf(this.frontNode) + 3) % 4;\r\n        for(let i = 0; i < 4; i++, node = (node + 3) % 4){\r\n            if(this.maze.graph[this.nowCell][node] !== null)\r\n                break;\r\n        }\r\n        \r\n        this.frontNode = this.nowCell;\r\n        this.target = this.maze.graph[this.nowCell][node];\r\n        this.targetNode.copy(this.maze.getNodeToPos(this.target));\r\n\r\n\r\n        return true;\r\n    }\r\n\r\n    findNextPoint_Right(){\r\n        let node;\r\n        \r\n        node = (this.maze.graph[this.nowCell].indexOf(this.frontNode) + 1) % 4;\r\n        for(let i = 0; i < 4; i++, node = (node + 1) % 4){\r\n            if(this.maze.graph[this.nowCell][node] !== null)\r\n                break;\r\n        }\r\n        \r\n        this.frontNode = this.nowCell;\r\n        this.target = this.maze.graph[this.nowCell][node];\r\n        this.targetNode.copy(this.maze.getNodeToPos(this.target));\r\n\r\n\r\n        return true;\r\n    }\r\n\r\n    GoToPoint(dt){\r\n        let vel = this.targetNode.clone().sub(this.body.position).normalize().multiplyScalar(dt * this.speed);\r\n        this.body.position.add(vel);\r\n\r\n        this.body.rotation.y = Math.acos(vel.x / vel.length());\r\n        if(vel.z > 0)\r\n            this.body.rotation.y *= -1;\r\n        if(this.targetNode.clone().sub(this.body.position).length() < 10){\r\n            this.nowCell = this.target;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    Hfunction_ref(n,i,Hfunction){\r\n        switch(Hfunction){\r\n            case 'Manhattan':\r\n                return Math.abs(Math.floor(this.target / this.maze.n) - Math.floor(this.maze.graph[n.NodeName][i] / this.maze.n)) + Math.abs(this.target % this.maze.n - this.maze.graph[n.NodeName][i] % this.maze.n);\r\n            break;\r\n            case 'Euclidean':\r\n                return this.maze.getNodeToPos(this.maze.graph[n.NodeName][i]).sub(this.maze.getNodeToPos(this.target)).length();\r\n            break;\r\n            case 'Breaking':\r\n                return Math.max(Math.abs(Math.floor(this.target / this.maze.n) - Math.floor(this.maze.graph[n.NodeName][i] / this.maze.n)),Math.abs(this.target % this.maze.n - this.maze.graph[n.NodeName][i] % this.maze.n));\r\n            break;\r\n            case 'Wall_Find':\r\n                //let rayCaster = new THREE.Raycaster(this.maze.getNodeToPos(this.maze.graph[n.NodeName][i]))\r\n\r\n            break;\r\n        }\r\n    }\r\n\r\n    initAstarPath(Hfunction){\r\n        this.AstarPath = [];\r\n        let clock = new THREE.Clock();\r\n        clock.start();\r\n\r\n        let openList = [];\r\n        let closeList = [];\r\n        openList.push({NodeName: this.nowCell, NodeValue: 0, Parent: -1});\r\n\r\n        let x = 0;\r\n\r\n        while(openList.length > 0){\r\n            let n = openList[0];\r\n            let pos = 0;\r\n            for(let i = 1; i < openList.length; i++){\r\n                if(n.NodeValue > openList[i].NodeValue){\r\n                    n = openList[i];\r\n                    pos = i;\r\n                }\r\n            }\r\n\r\n            let temp = openList[openList.length - 1];\r\n            openList[openList.length - 1] = openList[pos];\r\n            openList[pos] = temp;\r\n            openList.pop();\r\n            \r\n\r\n            closeList.push(n);\r\n\r\n            if(n.NodeName === this.target){\r\n                let now = this.target;\r\n\r\n                \r\n                for(let i = closeList.length - 1; i >= 0;){\r\n                    while(i >= 0 && closeList[i].NodeName !== now)i--;\r\n                    if(now === this.nowCell)break;\r\n\r\n\r\n                    this.AstarPath.push(now);\r\n                    now = closeList[i].Parent;\r\n                    \r\n                }\r\n                let time = clock.getElapsedTime();\r\n                console.log('spend ' + time);\r\n                // console.log(this.AstarPath.length);\r\n                console.log('ASC: ' + x);\r\n                localStorage[\"Time\"] = time + parseFloat(localStorage[\"Time\"]);\r\n                localStorage[\"ASC\"] = x + parseInt(localStorage[\"ASC\"]);\r\n                localStorage[\"Sum\"] = parseInt(localStorage[\"Sum\"]) + 1;\r\n\r\n                if(parseInt(localStorage[\"Sum\"]) < 100)\r\n                    location.reload();\r\n\r\n                return;\r\n            }\r\n\r\n            for(let i = 0; i < 4; i++){\r\n                if(this.maze.graph[n.NodeName][i] !== null){\r\n                    let dis = this.maze.getNodeToPos(this.maze.graph[n.NodeName][i]).sub(this.maze.getNodeToPos(0)).length();\r\n                    let ref = this.Hfunction_ref(n,i,Hfunction);\r\n                    //let ref = Math.abs(Math.floor(this.target / this.maze.n) - Math.floor(this.maze.graph[n.NodeName][i] / this.maze.n)) + Math.abs(this.target % this.maze.n - this.maze.graph[n.NodeName][i] % this.maze.n);\r\n                    ref *= this.maze.width;\r\n\r\n                    let find = false;\r\n                    for(let j = 0; j < openList.length; j++){\r\n                        if(openList[j].NodeName === this.maze.graph[n.NodeName][i]){\r\n                            find = true;\r\n                            openList[j].NodeValue = openList[j].NodeValue > dis + ref ? dis + ref : openList[j].NodeValue;\r\n                        }\r\n                    }\r\n                    for(let j = 0; j < closeList.length; j++){\r\n                        if(closeList[j].NodeName === this.maze.graph[n.NodeName][i])\r\n                            find = true;\r\n                    }\r\n\r\n                    if(!find){\r\n                        let temp = {NodeName: this.maze.graph[n.NodeName][i], NodeValue: dis + ref, Parent: n.NodeName};\r\n                        openList.push(temp);\r\n\r\n                        //this.drawColor(temp.NodeName,shitDis,colorString);\r\n                        x++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /*drawColor(node,dis,colorString){\r\n        let shit = new THREE.Mesh(new THREE.SphereGeometry(5,8,6), new THREE.MeshBasicMaterial({color: new THREE.Color(colorString)}));\r\n        shit.position.copy(this.maze.getNodeToPos(node).add(new THREE.Vector3(0,0,dis)));\r\n        scene.add(shit);\r\n    }*/\r\n\r\n    findNextPoint_Astar(){\r\n        if(this.AstarPath.length === 0)return false;\r\n        \r\n        this.frontNode = this.target;\r\n        this.target = this.AstarPath.pop();\r\n        this.targetNode.copy(this.maze.getNodeToPos(this.target));\r\n\r\n        /*let shit = new THREE.Mesh(new THREE.SphereGeometry(5,8,6), new THREE.MeshBasicMaterial({color: new THREE.Color(this.bodycolor)}));\r\n        shit.position.copy(this.targetNode);\r\n        scene.add(shit);*/\r\n        \r\n        return true;\r\n    }\r\n\r\n    findPlayer(frontNode,target,carPos){\r\n        let dir = target - frontNode;\r\n        let temp = frontNode;\r\n        if(dir === 1 || dir === -1){\r\n            let rowStart = Math.floor(frontNode / this.maze.n) * this.maze.n;\r\n            for(let i = temp + dir; i >= rowStart && i < rowStart + this.maze.n ; i+= dir){\r\n                if(!this.maze.check(temp,i))\r\n                    return false;\r\n                if(carPos === i)\r\n                    return true;   \r\n                temp = i;\r\n            }\r\n        }  \r\n        else {\r\n            for(let i = temp + dir; i < this.maze.n * this.maze.m && i >= 0; i+= dir){\r\n                if(!this.maze.check(temp,i))\r\n                    return false;\r\n                if(carPos === i)\r\n                    return true;  \r\n                temp = i;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    update(dt,carPos){\r\n        let res;\r\n\r\n\r\n        switch (this.NPCState) {\r\n            case this.NPCStateTable.initState:\r\n                switch(this.traversMode){\r\n                    case this.traversModeTable.Astar_Manhattan:\r\n                        this.initAstarPath('Manhattan');\r\n                    break;\r\n                    case this.traversModeTable.Astar_Euclidean:\r\n                        this.initAstarPath('Euclidean');\r\n                    break;\r\n                    case this.traversModeTable.Astar_Breaking:\r\n                        this.initAstarPath('Breaking');\r\n                    break;\r\n                    default:\r\n                        this.isTraverse.fill(false);\r\n                        this.isTraverse[this.nowCell] = true;   \r\n                    break;\r\n                }\r\n                this.NPCState = this.NPCStateTable.findNextPoint;\r\n            case this.NPCStateTable.findNextPoint:\r\n                switch(this.traversMode){\r\n                    case this.traversModeTable.left:\r\n                        res = this.findNextPoint_Left();\r\n                    break;\r\n                    case this.traversModeTable.right:\r\n                        res = this.findNextPoint_Right();\r\n                    break;\r\n                    case this.traversModeTable.Astar_Manhattan:\r\n                    case this.traversModeTable.Astar_Euclidean:\r\n                    case this.traversModeTable.Astar_Breaking:\r\n                        res = this.findNextPoint_Astar();\r\n                    break;\r\n                }\r\n                if(res)\r\n                    this.NPCState = this.NPCStateTable.GoToPoint;\r\n                else {\r\n                    if(this.traversMode >= 3){\r\n                        if(this.catchMode){\r\n                            this.target = carPos;\r\n                            this.NPCState = this.NPCStateTable.initState;\r\n                        }\r\n                        else this.NPCState = this.NPCStateTable.WaintingTarget;\r\n                    }\r\n                    else this.NPCState = this.NPCStateTable.initState;\r\n                    break;\r\n                }\r\n                    \r\n            case this.NPCStateTable.GoToPoint:\r\n                res = this.findPlayer(this.frontNode, this.target, carPos);\r\n                if(res && !this.catchMode){\r\n                    this.changeText('!');\r\n                    this.traversMode = this.traversModeTable.Astar_Manhattan;\r\n                    this.target = carPos;\r\n                    this.NPCState = this.NPCStateTable.initState;\r\n                    this.catchMode = true;\r\n                    break;\r\n                }\r\n                res = this.GoToPoint(dt);\r\n                if(res)\r\n                    this.NPCState = this.NPCStateTable.findNextPoint;\r\n            break;\r\n        }\r\n\r\n        if(this.camera)\r\n            this.camera.position.set(this.body.position.x,400,this.body.position.z);\r\n        if(this.model !== null){\r\n            if(this.model.actions['Running'] !== undefined)\r\n                this.fadeToAction(\"Running\",0.15);\r\n            else\r\n                this.fadeToAction(\"Run\",0.15);\r\n            this.model.mixer.update(dt);\r\n        }\r\n    }\r\n}\r\n\r\nexport default NPC"],"sourceRoot":""}